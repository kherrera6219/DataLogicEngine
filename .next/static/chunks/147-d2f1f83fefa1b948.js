"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[147],{4539:function(e,a,t){var r=t(5893);t(7294);var s=t(2874),l=t(2335),n=t(2715);let i=(0,s.Z)({badge:{}});a.Z=e=>{let{children:a,appearance:t="filled",color:s="brand",shape:d="rounded",size:c="medium",icon:o,className:m,...x}=e,h=i(),u=null;return o&&(u=(0,r.jsx)("i",{className:"bi bi-".concat(o)})),(0,r.jsx)(l.C,{appearance:t,color:s,shape:d,size:c,icon:u,className:(0,n.z)(h.badge,m),...x,children:a})}},5535:function(e,a,t){var r=t(5893),s=t(7294),l=t(2637);a.Z=e=>{let{standardId:a}=e,[t,n]=(0,s.useState)(null),[i,d]=(0,s.useState)(!0),[c,o]=(0,s.useState)(null),m=(0,s.useRef)();(0,s.useEffect)(()=>{(async()=>{try{d(!0);let e=await fetch("/api/compliance/standards/".concat(a||"")),t=await e.json();"success"===t.status?n(t):o(t.message||"Failed to load compliance data")}catch(e){o("Error fetching compliance data: "+e.message)}finally{d(!1)}})()},[a]),(0,s.useEffect)(()=>{if(!t||!m.current)return;l.Ys(m.current).selectAll("*").remove();let e=l.Ys(m.current).attr("width",800).attr("height",600).append("g").attr("transform","translate(".concat(400,", ").concat(300,")")),a=t.standard,r=t.child_standards||[];e.append("circle").attr("r",30).attr("fill",x(a.standard_type)).attr("stroke","#fff").attr("stroke-width",2),e.append("text").attr("text-anchor","middle").attr("dy",".3em").attr("fill","#fff").attr("font-size","10px").text(a.label);let s=2*Math.PI/Math.max(r.length,1);r.forEach((a,t)=>{let r=t*s,l=220*Math.cos(r),n=220*Math.sin(r);e.append("line").attr("x1",0).attr("y1",0).attr("x2",l).attr("y2",n).attr("stroke","#aaa").attr("stroke-width",1),e.append("circle").attr("r",20).attr("cx",l).attr("cy",n).attr("fill",x(a.standard.standard_type)).attr("stroke","#fff").attr("stroke-width",1),e.append("text").attr("x",l).attr("y",n).attr("text-anchor","middle").attr("dy",".3em").attr("fill","#fff").attr("font-size","8px").text(a.standard.label)});let n=e.append("g").attr("transform","translate(".concat(-350,", ").concat(-250,")"));["iso","nist","pci","hipaa","gdpr"].forEach((e,a)=>{n.append("circle").attr("r",8).attr("cx",10).attr("cy",25*a).attr("fill",x(e)),n.append("text").attr("x",25).attr("y",25*a+4).text(e.toUpperCase()).attr("fill","#333")})},[t]);let x=e=>{let a={iso:"#1f77b4",nist:"#ff7f0e",pci:"#2ca02c",hipaa:"#d62728",gdpr:"#9467bd",default:"#8c564b"};return a[e]||a.default};return i?(0,r.jsx)("div",{className:"text-center p-5",children:"Loading compliance data..."}):c?(0,r.jsx)("div",{className:"alert alert-danger",children:c}):t?(0,r.jsxs)("div",{className:"compliance-spiderweb-container",children:[(0,r.jsx)("h3",{className:"text-center mb-4",children:"Compliance Standards Spiderweb"}),(0,r.jsxs)("div",{className:"text-center",children:[t.standard&&(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("h4",{children:t.standard.label}),(0,r.jsx)("p",{className:"text-muted",children:t.standard.description}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Type:"})," ",t.standard.standard_type.toUpperCase()]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Level:"})," ",t.standard.standard_level]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Code:"})," ",t.standard.code]})]}),(0,r.jsx)("div",{className:"spiderweb-visualization",children:(0,r.jsx)("svg",{ref:m})}),t.child_standards&&t.child_standards.length>0&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("h5",{children:["Child Standards (",t.child_standards.length,")"]}),(0,r.jsx)("div",{className:"row",children:t.child_standards.map(e=>(0,r.jsx)("div",{className:"col-md-4 mb-3",children:(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsx)("h6",{className:"card-title",children:e.standard.label}),(0,r.jsx)("p",{className:"card-text small",children:e.standard.code})]})})},e.standard.uid))})]})]})]}):(0,r.jsx)("div",{className:"alert alert-info",children:"No compliance data available"})}},4196:function(e,a,t){var r=t(5893),s=t(7294),l=t(3158),n=t(7574),i=t(6346),d=t(8841),c=t(2121),o=t(9101),m=t(8070);a.Z=()=>{let[e,a]=(0,s.useState)(!0),[t,x]=(0,s.useState)(null),[h,u]=(0,s.useState)([]),[p,g]=(0,s.useState)(null),[f,b]=(0,s.useState)(null);(0,s.useEffect)(()=>{j()},[]);let j=async()=>{try{a(!0);let e=await fetch("/api/contextual/experts"),t=await e.json();t.success?(u(t.experts),t.experts.length>0&&(g(t.experts[0]),v(t.experts[0].id))):x(t.error||"Failed to fetch contextual experts")}catch(e){x("Error fetching contextual experts: "+e.message)}finally{a(!1)}},v=async e=>{try{let a=await fetch("/api/contextual/expertise-model/".concat(e)),t=await a.json();t.success?b(t.expertise_model):x(t.error||"Failed to fetch expertise model")}catch(e){x("Error fetching expertise model: "+e.message)}},y=e=>{g(e),v(e.id)};return e?(0,r.jsx)("div",{className:"text-center p-5",children:(0,r.jsx)(i.Z,{animation:"border",role:"status",children:(0,r.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):t?(0,r.jsx)(d.Z,{variant:"danger",children:t}):(0,r.jsx)("div",{className:"contextual-expert-web",children:(0,r.jsxs)(c.Z,{className:"mb-4",children:[(0,r.jsxs)(c.Z.Header,{children:[(0,r.jsx)("h2",{children:"Contextual Expert Web (Axis 11)"}),(0,r.jsx)("p",{className:"text-muted",children:"Contextual experts provide specialized perspectives based on real-world application contexts. Each expert has a comprehensive 7-part expertise model."})]}),(0,r.jsx)(c.Z.Body,{children:(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(m.Z,{md:4,children:(0,r.jsx)(l.Z,{variant:"pills",className:"flex-column",children:h.map(e=>(0,r.jsx)(l.Z.Item,{children:(0,r.jsx)(l.Z.Link,{active:p&&p.id===e.id,onClick:()=>y(e),children:e.label})},e.id))})}),(0,r.jsx)(m.Z,{md:8,children:p?(0,r.jsxs)("div",{className:"expert-details",children:[(0,r.jsx)("h3",{children:p.label}),(0,r.jsx)("p",{children:p.description}),f?(0,r.jsxs)("div",{className:"expertise-model mt-3",children:[(0,r.jsx)("h4",{children:"7-Part Expertise Model"}),(0,r.jsxs)(n.Z,{defaultActiveKey:"0",children:[(0,r.jsxs)(n.Z.Item,{eventKey:"0",children:[(0,r.jsx)(n.Z.Header,{children:"Role"}),(0,r.jsx)(n.Z.Body,{children:(0,r.jsx)("p",{children:f.role})})]}),(0,r.jsxs)(n.Z.Item,{eventKey:"1",children:[(0,r.jsx)(n.Z.Header,{children:"Formal Education"}),(0,r.jsx)(n.Z.Body,{children:(0,r.jsx)("ul",{children:f.formal_education.map((e,a)=>(0,r.jsx)("li",{children:e},a))})})]}),(0,r.jsxs)(n.Z.Item,{eventKey:"2",children:[(0,r.jsx)(n.Z.Header,{children:"Industry & Corporate Certifications"}),(0,r.jsx)(n.Z.Body,{children:(0,r.jsx)("ul",{children:f.certifications.map((e,a)=>(0,r.jsx)("li",{children:e},a))})})]}),(0,r.jsxs)(n.Z.Item,{eventKey:"3",children:[(0,r.jsx)(n.Z.Header,{children:"Job Training"}),(0,r.jsx)(n.Z.Body,{children:(0,r.jsx)("ul",{children:f.job_training.map((e,a)=>(0,r.jsx)("li",{children:e},a))})})]}),(0,r.jsxs)(n.Z.Item,{eventKey:"4",children:[(0,r.jsx)(n.Z.Header,{children:"Skills"}),(0,r.jsx)(n.Z.Body,{children:(0,r.jsx)("ul",{children:f.skills.map((e,a)=>(0,r.jsx)("li",{children:e},a))})})]}),(0,r.jsxs)(n.Z.Item,{eventKey:"5",children:[(0,r.jsx)(n.Z.Header,{children:"Related Tasks"}),(0,r.jsx)(n.Z.Body,{children:(0,r.jsx)("ul",{children:f.related_tasks.map((e,a)=>(0,r.jsx)("li",{children:e},a))})})]}),(0,r.jsxs)(n.Z.Item,{eventKey:"6",children:[(0,r.jsx)(n.Z.Header,{children:"Related Roles"}),(0,r.jsx)(n.Z.Body,{children:(0,r.jsx)("ul",{children:f.related_roles.map((e,a)=>(0,r.jsx)("li",{children:e},a))})})]})]})]}):null,(0,r.jsxs)("div",{className:"branch-structure mt-4",children:[(0,r.jsx)("h4",{children:"Branch Structure"}),(0,r.jsx)("p",{children:"The contextual expert hierarchy follows the branch pattern:"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"Mega branches (4)"}),(0,r.jsx)("li",{children:"Large branches (4 per mega)"}),(0,r.jsx)("li",{children:"Medium branches (4 per large)"}),(0,r.jsx)("li",{children:"Small branches (4 per medium)"}),(0,r.jsx)("li",{children:"Granular branches (as needed)"})]})]})]}):null})]})})]})})}},5109:function(e,a,t){var r=t(5893);t(7294);let s=e=>{let{id:a,name:t,value:s,onChange:l,options:n=[],placeholder:i="Select an option",className:d="",title:c,children:o,...m}=e;return o?(0,r.jsxs)("div",{className:"dropdown",children:[(0,r.jsx)("button",{className:"btn dropdown-toggle ".concat(d),type:"button",id:a,"data-bs-toggle":"dropdown","aria-expanded":"false",children:c||"Dropdown"}),(0,r.jsx)("ul",{className:"dropdown-menu","aria-labelledby":a,children:o})]}):(0,r.jsxs)("select",{id:a,name:t,value:s,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ".concat(d),...m,children:[(0,r.jsx)("option",{value:"",disabled:!0,children:i}),n.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]})};s.Item=e=>{let{children:a,onClick:t,className:s=""}=e;return(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"dropdown-item ".concat(s),type:"button",onClick:t,children:a})})},a.Z=s},943:function(e,a,t){t.r(a);var r=t(5893),s=t(7294),l=t(8290);a.default=e=>{let{data:a,centerNodeId:t,width:n=800,height:i=600}=e,d=(0,s.useRef)(),[c,o]=(0,s.useState)({nodes:[],links:[]});(0,s.useEffect)(()=>{if(a){let e=[],t=[],r={};if(a.center_node){let t={id:a.center_node.uid,name:a.center_node.name||a.center_node.label||"Unknown",axis:a.center_node.axis_number||0,type:a.center_node.node_type||"unknown",val:20,color:m(a.center_node.axis_number||0)};e.push(t),r[t.id]=!0}a.connections_created&&a.connections_created.forEach(a=>{if(a.target&&!r[a.target.uid]){let t={id:a.target.uid,name:a.target.name||a.target.label||"Unknown",axis:a.axis||a.target.axis_number||0,type:a.target.node_type||"unknown",val:10,color:m(a.axis||a.target.axis_number||0)};e.push(t),r[t.id]=!0}a.edge&&t.push({source:a.edge.source_id,target:a.edge.target_id,type:a.connection_type||a.edge.edge_type,strength:a.strength||1,value:a.strength||1,color:x(a.connection_type||a.edge.edge_type)})}),o({nodes:e,links:t})}},[a]),(0,s.useEffect)(()=>{if(d.current&&t){let e=c.nodes.find(e=>e.id===t);e&&(d.current.centerAt(e.x,e.y,1e3),d.current.zoom(2.5,1e3))}},[c,t]);let m=e=>{let a={0:"#cccccc",1:"#ff5555",2:"#5555ff",3:"#55aa55",4:"#aa55aa",5:"#55aaaa",6:"#aaaa55",7:"#ff9955",8:"#5599ff",9:"#ff55aa",10:"#aa77ff",11:"#77aaff",12:"#ffaa77",13:"#77ff77"};return a[e]||a[0]},x=e=>({direct_application:"#ff5555",enables:"#5555ff",implements:"#55aa55",specializes:"#aa55aa",extends:"#55aaaa",alternative_to:"#aaaa55",derived_from:"#ff9955",regulated_by:"#5599ff",certified_by:"#ff55aa",compatible_with:"#aa77ff",prerequisite_for:"#77aaff",crosswalks_to:"#ffaa77"})[e]||"#aaaaaa";return(0,r.jsx)("div",{className:"honeycomb-graph-container",style:{width:n,height:i},children:c.nodes.length>0?(0,r.jsx)(l.Z,{ref:d,graphData:c,nodeLabel:e=>"".concat(e.name," (Axis ").concat(e.axis,")"),linkLabel:e=>"".concat(e.type," (Strength: ").concat(e.strength.toFixed(2),")"),nodeRelSize:6,onNodeClick:e=>{d.current&&(d.current.centerAt(e.x,e.y,1e3),d.current.zoom(2.5,1e3))},linkWidth:e=>2*e.value,linkDirectionalParticles:2,linkDirectionalParticleWidth:e=>2*e.value,cooldownTicks:100,width:n,height:i}):(0,r.jsx)("div",{className:"text-center p-5",children:(0,r.jsx)("p",{children:"No honeycomb data available. Generate a honeycomb network first."})})})}},4462:function(e,a,t){var r=t(5893);t(7294),a.Z=e=>{let{children:a,htmlFor:t,className:s="",required:l=!1,...n}=e;return(0,r.jsxs)("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 ".concat(s),...n,children:[a,l&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]})}},866:function(e,a,t){t.d(a,{Z:function(){return o}});var r=t(5893),s=t(7294),l=t(8147),n=t(7798),i=t(5109),d=t(4462),c=t(2359);function o(e){let{initialPillarId:a}=e,[t,o]=(0,s.useState)([]),[m,x]=(0,s.useState)(a||""),[h,u]=(0,s.useState)(null),[p,g]=(0,s.useState)(""),[f,b]=(0,s.useState)(!1),[j,v]=(0,s.useState)([]);(0,c.p)(),(0,s.useEffect)(()=>{y()},[]),(0,s.useEffect)(()=>{a&&(x(a),N(a))},[a]);let y=async()=>{try{let e=await fetch("/api/pillars/");if(e.ok){let a=await e.json();o(a)}}catch(e){}},N=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){b(!0);try{let t=await fetch("/api/pillars/".concat(e,"/expand"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({context_text:a})});if(t.ok){let a=await t.json();u(a),w(e)}else{let e=await t.json();showToast({title:"Error",description:e.error||"Failed to expand pillar",status:"error",duration:5e3})}}catch(e){showToast({title:"Error",description:"An unexpected error occurred",status:"error",duration:5e3})}finally{b(!1)}}},w=async e=>{try{let a=await fetch("/api/pillars/mappings?pillar_id=".concat(e));if(a.ok){let e=await a.json();v(e)}}catch(e){}},k=e=>{x(e),g(""),u(null),e&&N(e)},_=async(e,a,t)=>{try{let r=await fetch("/api/pillars/mappings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source_pillar_id:m,source_sublevel_id:e,target_pillar_id:a,target_sublevel_id:t,mapping_type:"related_to",strength:.7,bidirectional:!0})});if(r.ok)showToast({title:"Success",description:"Mapping created successfully",status:"success",duration:3e3}),w(m);else{let e=await r.json();showToast({title:"Error",description:e.error||"Failed to create mapping",status:"error",duration:5e3})}}catch(e){showToast({title:"Error",description:"An unexpected error occurred",status:"error",duration:5e3})}},Z=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e&&Array.isArray(e)&&0!==e.length?(0,r.jsx)("div",{children:e.map(e=>(0,r.jsxs)("div",{style:{marginLeft:"".concat(20*a,"px"),marginBottom:"8px"},children:[(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsx)(l.Ct,{color:0===a?"primary":1===a?"info":"secondary",children:e.id}),(0,r.jsx)(n.Z,{ml:2,fontWeight:0===a?"bold":"normal",children:e.label||e.name}),h&&h.related_pillars&&h.related_pillars.length>0&&(0,r.jsx)(i.Z,{className:"ms-auto",title:"Map to...",variant:"outline-secondary",size:"sm",children:h.related_pillars.map(a=>(0,r.jsxs)("div",{className:"dropdown-item",children:[(0,r.jsx)("strong",{children:a.pillar_id}),a.mappings&&a.mappings.map(t=>(0,r.jsxs)(l.zx,{size:"sm",variant:"link",className:"d-block text-start",onClick:()=>_(e.id,a.pillar_id,t.target_sublevel),children:["Map to ",t.target_sublevel]},"".concat(t.target_sublevel)))]},a.pillar_id))})]}),e.description&&(0,r.jsx)(n.Z,{fontSize:"sm",color:"gray.600",ml:3,children:e.description}),e.sublevels&&Z(e.sublevels,a+1)]},e.id))}):(0,r.jsx)(n.Z,{color:"gray.500",ml:4*a,children:"No sublevels defined"})};return(0,r.jsx)("div",{children:(0,r.jsxs)(l.Zb,{className:"mb-4",children:[(0,r.jsx)(l.Zb.Header,{children:(0,r.jsx)(l.Zb.Title,{children:"Knowledge Pillar Dynamic Mapping"})}),(0,r.jsxs)(l.Zb.Body,{children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)(d.Z,{htmlFor:"pillarSelect",children:"Select Pillar Level:"}),(0,r.jsx)(i.Z,{title:m||"Select a Pillar",id:"pillarSelect",children:t.map(e=>(0,r.jsxs)(i.Z.Item,{onClick:()=>k(e.id),children:[e.id,": ",e.label||e.name]},e.id))})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)(d.Z,{htmlFor:"contextText",children:"Context for Expansion:"}),(0,r.jsx)(l.gx,{id:"contextText",value:p,onChange:e=>g(e.target.value),placeholder:"Enter text to provide context for dynamic mapping expansion...",rows:4}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(l.zx,{onClick:()=>{m?N(m,p):showToast({title:"Warning",description:"Please select a pillar first",status:"warning",duration:3e3})},disabled:!m||f,isLoading:f,children:h?"Re-expand with Context":"Expand with Context"})})]}),h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("h4",{className:"mb-3",children:["Pillar Structure: ",h.pillar_name," (",h.pillar_id,")"]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h5",{children:"Base Sublevels"}),Z(h.base_sublevels)]}),h.expanded_sublevels&&h.expanded_sublevels.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h5",{children:"Expanded Sublevels"}),Z(h.expanded_sublevels)]}),h.related_pillars&&h.related_pillars.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h5",{children:"Related Pillars"}),(0,r.jsx)("div",{className:"row",children:h.related_pillars.map(e=>(0,r.jsx)("div",{className:"col-md-6 mb-3",children:(0,r.jsx)(l.Zb,{children:(0,r.jsxs)(l.Zb.Body,{children:[(0,r.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,r.jsx)("h6",{className:"mb-0",children:e.pillar_id}),(0,r.jsx)(l.Ct,{className:"ms-2",color:e.suggested?"warning":"success",children:e.suggested?"Suggested":"Mapped"}),(0,r.jsxs)(n.Z,{className:"ms-auto",children:["Strength: ",e.strength.toFixed(2)]})]}),e.mappings&&e.mappings.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Z,{fontSize:"sm",fontWeight:"bold",children:"Existing Mappings:"}),(0,r.jsx)("ul",{className:"list-unstyled ms-3",children:e.mappings.map((e,a)=>(0,r.jsx)("li",{children:(0,r.jsxs)(n.Z,{fontSize:"sm",children:[e.source_sublevel||"source"," â†’ ",e.target_sublevel||"target",e.mapping_type&&" (".concat(e.mapping_type,")")]})},a))})]}),e.reason&&(0,r.jsx)(n.Z,{fontSize:"sm",fontStyle:"italic",color:"gray.500",mt:1,children:e.reason})]})})},e.pillar_id))})]}),j&&j.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h5",{children:"All Dynamic Mappings"}),(0,r.jsx)("div",{className:"table-responsive",children:(0,r.jsxs)("table",{className:"table table-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Source"}),(0,r.jsx)("th",{children:"Target"}),(0,r.jsx)("th",{children:"Type"}),(0,r.jsx)("th",{children:"Strength"})]})}),(0,r.jsx)("tbody",{children:j.map((e,a)=>(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{children:[e.source.pillar_id,".",e.source.sublevel_id]}),(0,r.jsxs)("td",{children:[e.target.pillar_id,".",e.target.sublevel_id]}),(0,r.jsx)("td",{children:e.mapping_type}),(0,r.jsx)("td",{children:e.strength.toFixed(2)})]},a))})]})})]})]})]})]})})}},4226:function(e,a,t){t.r(a);var r=t(5893),s=t(7294),l=t(8147);a.default=e=>{var a;let{frameworkUid:t,onNodeClick:n}=e,[i,d]=(0,s.useState)(null),[c,o]=(0,s.useState)(!1),[m,x]=(0,s.useState)(null),[h,u]=(0,s.useState)({});(0,s.useEffect)(()=>{t&&p()},[t]);let p=async()=>{if(t){o(!0),x(null);try{let e=await fetch("/api/regulatory/octopus/".concat(t));if(!e.ok)throw Error("Failed to fetch octopus data: ".concat(e.statusText));let a=await e.json();"success"===a.status?d(a.octopus):x(a.message||"Failed to load regulatory octopus data")}catch(e){x(e.message||"An error occurred while fetching the octopus data")}finally{o(!1)}}},g=(e,a)=>{u(a=>({...a,[e]:!a[e]}))},f=e=>{n&&n(e)};if(c)return(0,r.jsx)("div",{className:"text-center p-4",children:(0,r.jsx)("div",{className:"spinner-border",role:"status"})});if(m)return(0,r.jsx)("div",{className:"alert alert-danger",children:m});if(!i)return(0,r.jsx)("div",{className:"text-center p-4",children:"No data available. Select a regulatory framework."});let b=(e,a)=>e&&0!==Object.keys(e).length?(0,r.jsx)("ul",{className:"list-group mt-2",children:Object.entries(e).map(e=>{let[a,t]=e;return(0,r.jsx)("li",{className:"list-group-item list-group-item-action d-flex justify-content-between align-items-center",onClick:()=>f(t.requirement),children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"fw-bold",children:t.requirement.label}),(0,r.jsx)("div",{className:"small text-muted",children:t.requirement.description}),t.requirement.criticality&&(0,r.jsx)("span",{className:"badge bg-".concat("high"===t.requirement.criticality?"danger":"medium"===t.requirement.criticality?"warning":"info"," me-1"),children:t.requirement.criticality})]})},a)})}):(0,r.jsx)("div",{className:"text-muted",children:"No requirements defined"}),j=(e,a)=>e&&0!==Object.keys(e).length?(0,r.jsx)("div",{className:"ms-3 mt-2",children:Object.entries(e).map(e=>{let[a,t]=e,s=!0===h[a];return(0,r.jsxs)(l.Zb,{className:"mb-2 border-info",children:[(0,r.jsx)(l.Zb.Header,{className:"bg-light",children:(0,r.jsxs)("div",{className:"d-flex justify-content-between align-items-center",onClick:()=>g(a,"small"),style:{cursor:"pointer"},children:[(0,r.jsx)("div",{children:(0,r.jsxs)("span",{className:"text-primary",children:[(0,r.jsx)("i",{className:"bi bi-file-text me-2"}),t.framework.label]})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"badge bg-info me-1",children:[Object.keys(t.granular_requirements||{}).length," Reqs"]}),(0,r.jsx)("button",{className:"btn btn-sm btn-outline-secondary",children:(0,r.jsx)("i",{className:"bi bi-chevron-".concat(s?"up":"down")})})]})]})}),s&&(0,r.jsxs)(l.Zb.Body,{children:[(0,r.jsx)("small",{className:"text-muted d-block mb-2",children:t.framework.description}),(0,r.jsx)("h6",{className:"mt-3",children:"Granular Requirements"}),b(t.granular_requirements,a)]})]},a)})}):(0,r.jsx)("div",{className:"text-muted",children:"No small frameworks defined"}),v=(e,a)=>e&&0!==Object.keys(e).length?(0,r.jsx)("div",{className:"ms-3 mt-2",children:Object.entries(e).map(e=>{let[a,t]=e,s=!0===h[a];return(0,r.jsxs)(l.Zb,{className:"mb-3 border-primary",children:[(0,r.jsx)(l.Zb.Header,{className:"bg-light",children:(0,r.jsxs)("div",{className:"d-flex justify-content-between align-items-center",onClick:()=>g(a,"medium"),style:{cursor:"pointer"},children:[(0,r.jsx)("div",{children:(0,r.jsxs)("span",{className:"text-primary",children:[(0,r.jsx)("i",{className:"bi bi-journal-text me-2"}),t.framework.label]})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"badge bg-primary me-1",children:[Object.keys(t.small_frameworks||{}).length," Small"]}),(0,r.jsx)("button",{className:"btn btn-sm btn-outline-secondary",children:(0,r.jsx)("i",{className:"bi bi-chevron-".concat(s?"up":"down")})})]})]})}),s&&(0,r.jsxs)(l.Zb.Body,{children:[(0,r.jsx)("small",{className:"text-muted d-block mb-2",children:t.framework.description}),(0,r.jsx)("h6",{className:"mt-3",children:"Small Frameworks"}),j(t.small_frameworks,a)]})]},a)})}):(0,r.jsx)("div",{className:"text-muted",children:"No medium frameworks defined"});return(0,r.jsxs)("div",{className:"regulatory-octopus",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("h3",{className:"mb-3",children:[(0,r.jsx)("i",{className:"bi bi-diagram-3 me-2"}),i.mega_framework.label]}),(0,r.jsx)("p",{className:"text-muted",children:i.mega_framework.description}),(0,r.jsxs)("div",{className:"d-flex mb-3",children:[i.mega_framework.framework_type&&(0,r.jsxs)("span",{className:"badge bg-dark me-2",children:["Type: ",i.mega_framework.framework_type]}),i.mega_framework.issuing_authority&&(0,r.jsxs)("span",{className:"badge bg-dark me-2",children:["Authority: ",i.mega_framework.issuing_authority]}),i.mega_framework.effective_date&&(0,r.jsxs)("span",{className:"badge bg-dark",children:["Effective: ",new Date(i.mega_framework.effective_date).toLocaleDateString()]})]})]}),(0,r.jsxs)("h5",{className:"mb-3",children:[(0,r.jsx)("i",{className:"bi bi-diagram-2 me-2"}),"Large Frameworks"]}),(a=i.large_frameworks)&&0!==Object.keys(a).length?(0,r.jsx)("div",{className:"mt-3",children:Object.entries(a).map(e=>{let[a,t]=e,s=!0===h[a];return(0,r.jsxs)(l.Zb,{className:"mb-4 border-secondary",children:[(0,r.jsx)(l.Zb.Header,{className:"bg-light",children:(0,r.jsxs)("div",{className:"d-flex justify-content-between align-items-center",onClick:()=>g(a,"large"),style:{cursor:"pointer"},children:[(0,r.jsx)("div",{children:(0,r.jsxs)("span",{className:"text-secondary",children:[(0,r.jsx)("i",{className:"bi bi-journal-album me-2"}),t.framework.label]})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"badge bg-secondary me-1",children:[Object.keys(t.medium_frameworks||{}).length," Medium"]}),(0,r.jsx)("button",{className:"btn btn-sm btn-outline-secondary",children:(0,r.jsx)("i",{className:"bi bi-chevron-".concat(s?"up":"down")})})]})]})}),s&&(0,r.jsxs)(l.Zb.Body,{children:[(0,r.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("small",{className:"text-muted d-block",children:t.framework.description}),t.framework.issuing_authority&&(0,r.jsx)("span",{className:"badge bg-light text-dark me-1",children:t.framework.issuing_authority}),t.framework.effective_date&&(0,r.jsxs)("span",{className:"badge bg-light text-dark",children:["Effective: ",new Date(t.framework.effective_date).toLocaleDateString()]})]}),(0,r.jsx)("div",{children:(0,r.jsx)(l.zx,{size:"sm",variant:"outline-primary",onClick:()=>f(t.framework),children:"View Details"})})]}),(0,r.jsx)("h6",{className:"mt-3",children:"Medium Frameworks"}),v(t.medium_frameworks,a)]})]},a)})}):(0,r.jsx)("div",{className:"text-muted",children:"No large frameworks defined"})]})}},7798:function(e,a,t){var r=t(5893);t(7294),a.Z=e=>{let{children:a,fontSize:t="md",fontWeight:s="normal",color:l="default",className:n="",as:i="p",...d}=e,c={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl"},o={light:"font-light",normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold"},m={default:"text-gray-800",muted:"text-gray-600",light:"text-gray-400",primary:"text-blue-600",success:"text-green-600",warning:"text-yellow-600",danger:"text-red-600"},x=c[t]||c.md,h=o[s]||o.normal,u=m[l]||m.default;return(0,r.jsx)(i,{className:"".concat(x," ").concat(h," ").concat(u," ").concat(n),...d,children:a})}},8147:function(e,a,t){t.d(a,{Ct:function(){return l.Z},zx:function(){return n},Zb:function(){return i},Lt:function(){return c.Z},II:function(){return m},__:function(){return x.Z},xv:function(){return h.Z},gx:function(){return u}});var r=t(5893);t(7294);var s=t(2874);(0,s.Z)({avatar:{flexShrink:0}});var l=t(4539),n=e=>{let{children:a,onClick:t,type:s="button",variant:l="primary",size:n="md",className:i="",disabled:d=!1,...c}=e,o={primary:"bg-blue-600 hover:bg-blue-700 text-white",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-800",danger:"bg-red-600 hover:bg-red-700 text-white",success:"bg-green-600 hover:bg-green-700 text-white",outline:"border border-blue-600 text-blue-600 hover:bg-blue-50"},m={sm:"px-2 py-1 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"},x=o[l]||o.primary,h=m[n]||m.md;return(0,r.jsx)("button",{type:s,onClick:t,disabled:d,className:"font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 ".concat(x," ").concat(h," ").concat(d?"opacity-50 cursor-not-allowed":""," ").concat(i),...c,children:a})},i=e=>{let{children:a,className:t="",title:s="",footer:l=null,shadow:n="md",border:i=!1,...d}=e,c={none:"",sm:"shadow-sm",md:"shadow",lg:"shadow-lg",xl:"shadow-xl"},o=c[n]||c.md;return(0,r.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden ".concat(o," ").concat(i?"border border-gray-200":""," ").concat(t),...d,children:[s&&(0,r.jsx)("div",{className:"px-4 py-3 border-b border-gray-200",children:(0,r.jsx)("h3",{className:"font-medium text-gray-900",children:s})}),(0,r.jsx)("div",{className:"p-4",children:a}),l&&(0,r.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200",children:l})]})},d=t(4695);(0,s.Z)({message:{display:"flex",marginBottom:"24px",gap:"16px",maxWidth:"85%",animation:"fadeIn 0.3s ease-in-out"},userMessage:{alignSelf:"flex-end",flexDirection:"row-reverse",marginLeft:"auto"},systemMessage:{alignSelf:"flex-start"},errorMessage:{alignSelf:"flex-start"},content:{maxWidth:"100%"},textBubble:{...d.q5.padding("16px"),...d.q5.borderRadius("12px","12px","12px","0"),backgroundColor:"var(--colorNeutralBackground4)",color:"var(--colorNeutralForeground1)",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)",position:"relative"},userTextBubble:{backgroundColor:"var(--colorBrandBackground)",color:"var(--colorNeutralForegroundInverted)",...d.q5.borderRadius("12px","12px","0","12px")},errorTextBubble:{backgroundColor:"var(--colorPaletteRedBackground2)",color:"var(--colorPaletteRedForeground2)",...d.q5.borderRadius("12px","12px","12px","0")},metadata:{marginTop:"4px",fontSize:"12px",color:"var(--colorNeutralForeground3)"},"@keyframes fadeIn":{from:{opacity:0,transform:"translateY(10px)"},to:{opacity:1,transform:"translateY(0)"}},markdown:{lineHeight:1.6,"& h1, & h2, & h3, & h4, & h5, & h6":{margin:"16px 0 8px"},"& h1":{fontSize:"1.8rem"},"& h2":{fontSize:"1.5rem"},"& h3":{fontSize:"1.3rem"},"& p":{margin:"8px 0"},"& ul, & ol":{marginLeft:"20px"},"& code":{backgroundColor:"rgba(0, 0, 0, 0.1)",...d.q5.padding("2px","4px"),...d.q5.borderRadius("4px"),fontFamily:"monospace"},"& pre":{backgroundColor:"rgba(0, 0, 0, 0.1)",...d.q5.padding("12px"),...d.q5.borderRadius("4px"),overflowX:"auto"},"& a":{color:"var(--colorBrandForegroundLink)",textDecoration:"none",":hover":{textDecoration:"underline"}}}}),t(5535),t(4196);var c=t(5109);t(943);var o=t(2501),m=e=>{let{type:a="text",appearance:t="outline",size:s="medium",placeholder:l,value:n,onChange:i,disabled:d=!1,...c}=e;return(0,r.jsx)(o.I,{type:a,appearance:t,size:s,placeholder:l,value:n,onChange:i,disabled:d,...c})},x=t(4462);t(7454),t(1317),t(866),t(4226),(0,s.Z)({sidebar:{display:"flex",flexDirection:"column",width:"280px",height:"100%",backgroundColor:"var(--colorNeutralBackground2)",...d.q5.borderRight("1px","solid","var(--colorNeutralStroke2)"),transition:"transform 0.3s ease","@media(max-width: 767px)":{position:"fixed",bottom:0,left:0,right:0,zIndex:1e3,height:"60%",width:"100%",transform:"translateY(100%)",boxShadow:"0 -2px 10px rgba(0, 0, 0, 0.2)",...d.q5.borderRight("0"),...d.q5.borderTop("1px","solid","var(--colorNeutralStroke2)")}},sidebarShow:{transform:"translateY(0)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",...d.q5.padding("16px"),...d.q5.borderBottom("1px","solid","var(--colorNeutralStroke2)")},content:{flex:1,overflowY:"auto",...d.q5.padding("8px")},footer:{...d.q5.padding("16px"),...d.q5.borderTop("1px","solid","var(--colorNeutralStroke2)")},listItem:{display:"flex",alignItems:"center",gap:"12px",...d.q5.padding("12px"),...d.q5.borderRadius("4px"),marginBottom:"4px",cursor:"pointer",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--colorNeutralBackground3)"},color:"var(--colorNeutralForeground1)",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},activeItem:{backgroundColor:"var(--colorBrandBackground2)",fontWeight:600,":hover":{backgroundColor:"var(--colorBrandBackground2Hover)"}},icon:{fontSize:"16px",color:"var(--colorNeutralForeground3)"},activeIcon:{color:"var(--colorBrandForeground1)"}});var h=t(7798),u=e=>{let{id:a,name:t,value:s,onChange:l,placeholder:n="",rows:i=4,className:d="",...c}=e;return(0,r.jsx)("textarea",{id:a,name:t,value:s,onChange:l,rows:i,placeholder:n,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ".concat(d),...c})};t(6379),t(9895)}}]);