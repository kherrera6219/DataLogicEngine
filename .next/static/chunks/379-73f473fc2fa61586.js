"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[379],{6379:function(e,i,s){var a=s(5893),t=s(645),l=s.n(t),n=s(7294),r=s(3280),c=s(2121),m=s(6911),d=s(6720);i.Z=e=>{let{initialData:i,timelineType:s}=e,[t,o]=(0,n.useState)(i||[]),[x,j]=(0,n.useState)(!i),[b,p]=(0,n.useState)(null),[h,u]=(0,n.useState)("timeline"),[N,g]=(0,n.useState)("all");(0,n.useEffect)(()=>{i||v()},[i,s]);let v=async()=>{j(!0),p(null);try{let e="/api/time";"historical"===s?e="/api/time/historical":"career"===s?e="/api/time/career/".concat(s.split("_")[1]):"project"===s&&(e="/api/time/project/".concat(s.split("_")[1]));let i=await fetch(e),a=await i.json();a.success?"historical"===s?o(a.periods||[]):"career"===s?o(a.career_stages||[]):"project"===s?o({project:a.project,tasks:a.tasks||[],milestones:a.milestones||[],completionPercentage:a.completion_percentage||0}):o(a.time_contexts||[]):p(a.error||"Error fetching timeline data")}catch(e){p("Error: ".concat(e.message))}finally{j(!1)}},y=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Present",f=e=>{if(!e)return null;let i="secondary";switch(e.toLowerCase()){case"completed":i="success";break;case"in_progress":i="primary";break;case"not_started":i="light";break;case"delayed":i="warning";break;case"blocked":i="danger"}return(0,a.jsx)(r.Z,{bg:i,children:e.replace("_"," ")})},k=(e,i)=>(0,a.jsxs)("div",{className:"timeline-item",children:[(0,a.jsx)("div",{className:"timeline-icon",children:"milestone"===e.time_type?(0,a.jsx)("i",{className:"bi bi-flag-fill text-warning"}):"career_stage"===e.time_type?(0,a.jsx)("i",{className:"bi bi-briefcase-fill text-primary"}):"historical"===e.time_type?(0,a.jsx)("i",{className:"bi bi-clock-history text-info"}):"project"===e.time_type?(0,a.jsx)("i",{className:"bi bi-kanban text-success"}):(0,a.jsx)("i",{className:"bi bi-calendar-event text-secondary"})}),(0,a.jsx)("div",{className:"timeline-content",children:(0,a.jsxs)(c.Z,{children:[(0,a.jsxs)(c.Z.Header,{className:"d-flex justify-content-between align-items-center",children:[(0,a.jsx)("span",{children:e.name}),e.attributes&&e.attributes.status&&f(e.attributes.status)]}),(0,a.jsxs)(c.Z.Body,{children:[(0,a.jsxs)("div",{className:"small mb-2",children:[(0,a.jsx)("i",{className:"bi bi-calendar me-1"}),y(e.start_date)," - ",y(e.end_date)]}),e.attributes&&e.attributes.description&&(0,a.jsx)("p",{className:"mb-2",children:e.attributes.description}),e.attributes&&e.attributes.assignee&&(0,a.jsxs)("div",{className:"small mb-2",children:[(0,a.jsx)("i",{className:"bi bi-person me-1"}),"Assignee: ",e.attributes.assignee]}),e.attributes&&e.attributes.skills_gained&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("small",{className:"text-muted",children:"Skills:"}),(0,a.jsx)("div",{children:e.attributes.skills_gained.map((e,i)=>(0,a.jsx)(r.Z,{bg:"info",className:"me-1 mb-1",children:e},i))})]}),e.attributes&&e.attributes.roles&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("small",{className:"text-muted",children:"Roles:"}),(0,a.jsx)("div",{children:e.attributes.roles.map((e,i)=>(0,a.jsx)(r.Z,{bg:"secondary",className:"me-1 mb-1",children:e},i))})]})]})]})})]},e.uid||i);return x?(0,a.jsxs)("div",{className:"text-center my-5",children:[(0,a.jsx)("div",{className:"spinner-border",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading timeline..."})}),(0,a.jsx)("p",{className:"mt-2",children:"Loading timeline data..."})]}):b?(0,a.jsxs)("div",{className:"alert alert-danger",children:[(0,a.jsx)("i",{className:"bi bi-exclamation-triangle me-2"}),b]}):(0,a.jsxs)("div",{className:"jsx-326870c1362620a6 timeline-component",children:[(0,a.jsxs)("div",{className:"jsx-326870c1362620a6 d-flex justify-content-between mb-4",children:[(0,a.jsxs)("h3",{className:"jsx-326870c1362620a6",children:["historical"===s&&"Historical Timeline","career"===s&&"Career Timeline","project"===s&&"Project Timeline",!s&&"Timeline"]}),(0,a.jsxs)("div",{className:"jsx-326870c1362620a6 btn-group",children:[(0,a.jsxs)(d.Z,{variant:"timeline"===h?"primary":"outline-primary",onClick:()=>u("timeline"),children:[(0,a.jsx)("i",{className:"jsx-326870c1362620a6 bi bi-list me-1"})," Timeline"]}),(0,a.jsxs)(d.Z,{variant:"calendar"===h?"primary":"outline-primary",onClick:()=>u("calendar"),children:[(0,a.jsx)("i",{className:"jsx-326870c1362620a6 bi bi-calendar3 me-1"})," Calendar"]}),(0,a.jsxs)(d.Z,{variant:"gantt"===h?"primary":"outline-primary",onClick:()=>u("gantt"),children:[(0,a.jsx)("i",{className:"jsx-326870c1362620a6 bi bi-bar-chart me-1"})," Gantt"]})]})]}),"timeline"===h&&(0,a.jsxs)("div",{className:"jsx-326870c1362620a6 timeline-container",children:["historical"===s&&(0,a.jsx)("div",{className:"historical-timeline",children:t.map((e,i)=>k(e,i))}),"career"===s&&(0,a.jsx)("div",{className:"career-timeline",children:t.map((e,i)=>k(e,i))}),"project"===s&&(()=>{if(!t.project)return(0,a.jsx)("div",{children:"No project data available"});let{project:e,tasks:i,milestones:s,completionPercentage:l}=t;return(0,a.jsxs)("div",{className:"project-timeline",children:[(0,a.jsxs)(c.Z,{className:"mb-4",children:[(0,a.jsx)(c.Z.Header,{children:(0,a.jsx)("h5",{children:e.name})}),(0,a.jsxs)(c.Z.Body,{children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("i",{className:"bi bi-calendar me-1"}),y(e.start_date)," - ",y(e.end_date)]}),e.attributes&&e.attributes.status&&f(e.attributes.status)]}),e.attributes&&e.attributes.description&&(0,a.jsx)("p",{children:e.attributes.description}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[(0,a.jsx)("span",{children:"Progress:"}),(0,a.jsxs)("span",{children:[l,"%"]})]}),(0,a.jsx)(m.Z,{now:l})]})]})]}),(0,a.jsx)("div",{className:"d-flex justify-content-center mb-4",children:(0,a.jsxs)("div",{className:"btn-group",children:[(0,a.jsx)(d.Z,{variant:"all"===N?"primary":"outline-primary",onClick:()=>g("all"),children:"All"}),(0,a.jsx)(d.Z,{variant:"task"===N?"primary":"outline-primary",onClick:()=>g("task"),children:"Tasks"}),(0,a.jsx)(d.Z,{variant:"milestone"===N?"primary":"outline-primary",onClick:()=>g("milestone"),children:"Milestones"})]})}),(0,a.jsxs)("div",{className:"timeline-container",children:["all"===N&&(0,a.jsx)(a.Fragment,{children:[...i,...s].sort((e,i)=>new Date(e.start_date)-new Date(i.start_date)).map((e,i)=>k(e,i))}),"task"===N&&(0,a.jsx)(a.Fragment,{children:i.map((e,i)=>k(e,i))}),"milestone"===N&&(0,a.jsx)(a.Fragment,{children:s.map((e,i)=>k(e,i))})]})]})})(),!s&&t.map((e,i)=>k(e,i)),Array.isArray(t)&&0===t.length&&(0,a.jsxs)("div",{className:"jsx-326870c1362620a6 text-center my-5",children:[(0,a.jsx)("i",{className:"jsx-326870c1362620a6 bi bi-calendar-x display-4 text-muted"}),(0,a.jsx)("p",{className:"jsx-326870c1362620a6 mt-3",children:"No timeline data available"})]})]}),"calendar"===h&&(0,a.jsx)("div",{className:"jsx-326870c1362620a6 calendar-view",children:(0,a.jsxs)("div",{className:"jsx-326870c1362620a6 alert alert-info",children:[(0,a.jsx)("i",{className:"jsx-326870c1362620a6 bi bi-info-circle me-2"}),"Calendar view implementation will be added in the next iteration."]})}),"gantt"===h&&(0,a.jsx)("div",{className:"jsx-326870c1362620a6 gantt-view",children:(0,a.jsxs)("div",{className:"jsx-326870c1362620a6 alert alert-info",children:[(0,a.jsx)("i",{className:"jsx-326870c1362620a6 bi bi-info-circle me-2"}),"Gantt chart view implementation will be added in the next iteration."]})}),(0,a.jsx)(l(),{id:"326870c1362620a6",children:'.timeline-container.jsx-326870c1362620a6{position:relative;padding:20px 0}.timeline-container.jsx-326870c1362620a6::before{content:"";position:absolute;top:0;bottom:0;left:20px;width:4px;background:#e5e5e5}.timeline-item.jsx-326870c1362620a6{position:relative;margin-bottom:30px;padding-left:45px}.timeline-icon.jsx-326870c1362620a6{position:absolute;left:0;top:5px;width:40px;height:40px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background:#fff;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;border:3px solid#e5e5e5;z-index:1}.timeline-content.jsx-326870c1362620a6{padding-bottom:10px}'})]})}}}]);