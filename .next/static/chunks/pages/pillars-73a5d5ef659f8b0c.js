(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[123],{2040:function(e,a,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pillars",function(){return i(4969)}])},3965:function(e,a,i){"use strict";i.d(a,{Z:function(){return y}});var l=i(5893),r=i(7294),s=i(2874),n=i(4695),t=i(2715),o=i(6608),d=i(1664),c=i.n(d),x=i(1163),m=i(8772),p=i(2085),h=i(3371),b=i(7730),u=i(3096),f=i(8577),g=i(1389);let j=(0,s.Z)({navbar:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"var(--colorNeutralBackground1)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",...n.q5.padding("8px","16px"),height:"60px",width:"100%",position:"sticky",top:0,zIndex:100},brand:{display:"flex",alignItems:"center",gap:"12px",textDecoration:"none",color:"var(--colorBrandForeground1)",fontWeight:600},logo:{display:"flex",fontSize:"24px"},title:{fontSize:"18px","@media(max-width: 576px)":{display:"none"}},titleShort:{display:"none",fontSize:"18px","@media(max-width: 576px)":{display:"block"}},navItems:{display:"flex",alignItems:"center",gap:"8px","@media(max-width: 768px)":{display:"none"}},mobileMenu:{display:"none","@media(max-width: 768px)":{display:"block"}},navLink:{color:"var(--colorNeutralForeground1)",textDecoration:"none",...n.q5.padding("8px","12px"),borderRadius:"4px",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--colorNeutralBackground2)"}},activeNavLink:{backgroundColor:"var(--colorNeutralBackground2)",fontWeight:600}}),v=e=>{let{navItems:a=[]}=e,i=j(),s=(0,x.useRouter)(),[n,t]=(0,r.useState)(!1),o=e=>s.pathname===e;return(0,l.jsxs)("nav",{className:i.navbar,children:[(0,l.jsxs)(c(),{href:"/",className:i.brand,children:[(0,l.jsx)("span",{className:i.logo,children:(0,l.jsx)("i",{className:"bi bi-diagram-3"})}),(0,l.jsx)("span",{className:i.title,children:"Universal Knowledge Graph"}),(0,l.jsx)("span",{className:i.titleShort,children:"UKG"})]}),(0,l.jsx)("div",{className:i.navItems,children:a.map((e,a)=>(0,l.jsx)(m.u,{content:e.label,children:(0,l.jsxs)(c(),{href:e.href,className:"".concat(i.navLink," ").concat(o(e.href)?i.activeNavLink:""),children:[e.icon&&(0,l.jsx)("i",{className:"bi bi-".concat(e.icon," me-2")}),e.label]})},a))}),(0,l.jsx)("div",{className:i.mobileMenu,children:(0,l.jsxs)(p.v,{children:[(0,l.jsx)(h.b,{disableButtonEnhancement:!0,children:(0,l.jsx)(b.z,{icon:(0,l.jsx)("i",{className:"bi bi-list"}),iconOnly:!0,appearance:"subtle","aria-label":"Menu"})}),(0,l.jsx)(u.Y,{children:(0,l.jsx)(f.q,{children:a.map((e,a)=>(0,l.jsx)(g.s,{onClick:()=>s.push(e.href),icon:(0,l.jsx)("i",{className:"bi bi-".concat(e.icon)}),children:e.label},a))})})]})})]})};v.defaultProps={navItems:[{href:"/",label:"Home",icon:"house"},{href:"/axis1",label:"Axis 1",icon:"1-circle"},{href:"/axis2",label:"Axis 2",icon:"2-circle"},{href:"/axis3",label:"Axis 3",icon:"3-circle"},{href:"/axis4",label:"Axis 4",icon:"4-circle"},{href:"/axis5",label:"Axis 5",icon:"5-circle"},{href:"/axis6",label:"Axis 6",icon:"gear"},{href:"/compliance",label:"Compliance",icon:"check-circle"},{href:"/locations",label:"Locations",icon:"geo-alt"},{href:"/contextual",label:"Context Experts",icon:"person"},{href:"/timeline",label:"Timeline",icon:"clock-history"},{href:"/unified-mapping",label:"Unified Mapping",icon:"geo"},{href:"/compliance-dashboard",label:"SOC 2 Compliance",icon:"shield-check"}]};let N=(0,s.Z)({container:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{flex:"1 0 auto",...n.q5.padding("24px","0"),width:"100%",maxWidth:"100%",overflowX:"hidden"},mainContent:{maxWidth:"1400px",marginLeft:"auto",marginRight:"auto",...n.q5.padding("0","16px"),"@media(min-width: 576px)":{...n.q5.padding("0","24px")}},footer:{backgroundColor:"var(--colorNeutralBackground2)",color:"var(--colorNeutralForeground2)",...n.q5.padding("16px","0"),marginTop:"32px"},footerContent:{maxWidth:"1400px",marginLeft:"auto",marginRight:"auto",...n.q5.padding("0","16px"),"@media(min-width: 576px)":{...n.q5.padding("0","24px")}},footerRow:{display:"flex",flexDirection:"column","@media(min-width: 768px)":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},footerCopyright:{textAlign:"center",marginBottom:"16px","@media(min-width: 768px)":{textAlign:"left",marginBottom:"0"}},socialLinks:{display:"flex",justifyContent:"center",gap:"24px","@media(min-width: 768px)":{justifyContent:"flex-end"}},socialLink:{color:"var(--colorNeutralForeground2)",fontSize:"20px",transition:"color 0.2s",":hover":{color:"var(--colorBrandForeground1)"}}});function y(e){let{children:a,className:i}=e,r=N();return(0,x.useRouter)(),(0,l.jsxs)("div",{className:r.container,children:[(0,l.jsx)(v,{navItems:[{label:"Home",href:"/",icon:"house-door"},{label:"Chat",href:"/chat",icon:"chat-dots"},{label:"About",href:"#about",icon:"info-circle"}]}),(0,l.jsx)("main",{className:(0,t.z)(r.main,i),children:(0,l.jsx)("div",{className:r.mainContent,children:a})}),(0,l.jsx)("footer",{className:r.footer,children:(0,l.jsx)("div",{className:r.footerContent,children:(0,l.jsxs)("div",{className:r.footerRow,children:[(0,l.jsx)("div",{className:r.footerCopyright,children:(0,l.jsxs)(o.x,{size:200,children:["Universal Knowledge Graph System \xa9 ",new Date().getFullYear()]})}),(0,l.jsxs)("div",{className:r.socialLinks,children:[(0,l.jsx)("a",{href:"#",className:r.socialLink,"aria-label":"GitHub",children:(0,l.jsx)("i",{className:"bi bi-github"})}),(0,l.jsx)("a",{href:"#",className:r.socialLink,"aria-label":"Twitter",children:(0,l.jsx)("i",{className:"bi bi-twitter"})}),(0,l.jsx)("a",{href:"#",className:r.socialLink,"aria-label":"LinkedIn",children:(0,l.jsx)("i",{className:"bi bi-linkedin"})})]})]})})})]})}},9001:function(){throw Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError: \n  \x1b[31mx\x1b[0m the name `Card` is exported multiple times\n    ,-[\x1b[36;1;4m/home/runner/workspace/components/ui/index.js\x1b[0m:1:1]\n \x1b[2m 1\x1b[0m | \n \x1b[2m 2\x1b[0m | // UI Components library based on Fluent UI\n \x1b[2m 3\x1b[0m | export { default as Button } from './Button';\n \x1b[2m 4\x1b[0m | export { default as Card } from './Card';\n    : \x1b[31;1m                    ^^|^\x1b[0m\n    :                       \x1b[31;1m`-- \x1b[31;1mprevious exported here\x1b[0m\x1b[0m\n \x1b[2m 5\x1b[0m | export { default as Input } from './Input';\n \x1b[2m 6\x1b[0m | export { default as Navbar } from './Navbar';\n \x1b[2m 7\x1b[0m | export { default as Sidebar } from './Sidebar';\n \x1b[2m 8\x1b[0m | export { default as ChatMessage } from './ChatMessage';\n \x1b[2m 9\x1b[0m | export { default as Avatar } from './Avatar';\n \x1b[2m10\x1b[0m | export { default as Badge } from './Badge';\n \x1b[2m11\x1b[0m | export { default as Text } from './Text';\n \x1b[2m12\x1b[0m | export { default as Label } from './Label';\n \x1b[2m13\x1b[0m | export { default as Textarea } from './Textarea';\n \x1b[2m14\x1b[0m | export { default as Dropdown } from './Dropdown';\n \x1b[2m15\x1b[0m | export { default as Card } from './Card';\n    : \x1b[33;1m                    ^^|^\x1b[0m\n    :                       \x1b[33;1m`-- \x1b[33;1mexported more than once\x1b[0m\x1b[0m\n \x1b[2m16\x1b[0m | export { default as Button } from './Button';\n    `----\n\nError: \n  \x1b[36m>\x1b[0m Exported identifiers must be unique\n\n  \x1b[31mx\x1b[0m the name `Button` is exported multiple times\n    ,-[\x1b[36;1;4m/home/runner/workspace/components/ui/index.js\x1b[0m:1:1]\n \x1b[2m 1\x1b[0m | \n \x1b[2m 2\x1b[0m | // UI Components library based on Fluent UI\n \x1b[2m 3\x1b[0m | export { default as Button } from './Button';\n    : \x1b[31;1m                    ^^^|^^\x1b[0m\n    :                        \x1b[31;1m`-- \x1b[31;1mprevious exported here\x1b[0m\x1b[0m\n \x1b[2m 4\x1b[0m | export { default as Card } from './Card';\n \x1b[2m 5\x1b[0m | export { default as Input } from './Input';\n \x1b[2m 6\x1b[0m | export { default as Navbar } from './Navbar';\n \x1b[2m 7\x1b[0m | export { default as Sidebar } from './Sidebar';\n \x1b[2m 8\x1b[0m | export { default as ChatMessage } from './ChatMessage';\n \x1b[2m 9\x1b[0m | export { default as Avatar } from './Avatar';\n \x1b[2m10\x1b[0m | export { default as Badge } from './Badge';\n \x1b[2m11\x1b[0m | export { default as Text } from './Text';\n \x1b[2m12\x1b[0m | export { default as Label } from './Label';\n \x1b[2m13\x1b[0m | export { default as Textarea } from './Textarea';\n \x1b[2m14\x1b[0m | export { default as Dropdown } from './Dropdown';\n \x1b[2m15\x1b[0m | export { default as Card } from './Card';\n \x1b[2m16\x1b[0m | export { default as Button } from './Button';\n    : \x1b[33;1m                    ^^^|^^\x1b[0m\n    :                        \x1b[33;1m`-- \x1b[33;1mexported more than once\x1b[0m\x1b[0m\n    `----\n\nError: \n  \x1b[36m>\x1b[0m Exported identifiers must be unique\n")},4969:function(e,a,i){"use strict";i.r(a),i.d(a,{default:function(){return x}});var l=i(5893),r=i(7294),s=i(9008),n=i.n(s),t=i(3965),o=i(9001),d=i(2359);function c(e){let{initialPillarId:a}=e,[i,s]=(0,r.useState)([]),[n,t]=(0,r.useState)(a||""),[c,x]=(0,r.useState)(null),[m,p]=(0,r.useState)(""),[h,b]=(0,r.useState)(!1),[u,f]=(0,r.useState)([]);(0,d.p)(),(0,r.useEffect)(()=>{g()},[]),(0,r.useEffect)(()=>{a&&(t(a),j(a))},[a]);let g=async()=>{try{let e=await fetch("/api/pillars/");if(e.ok){let a=await e.json();s(a)}else console.error("Failed to fetch pillars")}catch(e){console.error("Error fetching pillars:",e)}},j=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){b(!0);try{let i=await fetch("/api/pillars/".concat(e,"/expand"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({context_text:a})});if(i.ok){let a=await i.json();x(a),v(e)}else{let e=await i.json();showToast({title:"Error",description:e.error||"Failed to expand pillar",status:"error",duration:5e3})}}catch(e){console.error("Error expanding pillar:",e),showToast({title:"Error",description:"An unexpected error occurred",status:"error",duration:5e3})}finally{b(!1)}}},v=async e=>{try{let a=await fetch("/api/pillars/mappings?pillar_id=".concat(e));if(a.ok){let e=await a.json();f(e)}}catch(e){console.error("Error fetching mappings:",e)}},N=e=>{t(e),p(""),x(null),e&&j(e)},y=async(e,a,i)=>{try{let l=await fetch("/api/pillars/mappings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source_pillar_id:n,source_sublevel_id:e,target_pillar_id:a,target_sublevel_id:i,mapping_type:"related_to",strength:.7,bidirectional:!0})});if(l.ok)showToast({title:"Success",description:"Mapping created successfully",status:"success",duration:3e3}),v(n);else{let e=await l.json();showToast({title:"Error",description:e.error||"Failed to create mapping",status:"error",duration:5e3})}}catch(e){console.error("Error creating mapping:",e),showToast({title:"Error",description:"An unexpected error occurred",status:"error",duration:5e3})}},w=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e&&Array.isArray(e)&&0!==e.length?(0,l.jsx)("div",{children:e.map(e=>(0,l.jsxs)("div",{style:{marginLeft:"".concat(20*a,"px"),marginBottom:"8px"},children:[(0,l.jsxs)("div",{className:"d-flex align-items-center",children:[(0,l.jsx)(o.Ct,{color:0===a?"primary":1===a?"info":"secondary",children:e.id}),(0,l.jsx)(o.xv,{ml:2,fontWeight:0===a?"bold":"normal",children:e.label||e.name}),c&&c.related_pillars&&c.related_pillars.length>0&&(0,l.jsx)(o.Lt,{className:"ms-auto",title:"Map to...",variant:"outline-secondary",size:"sm",children:c.related_pillars.map(a=>(0,l.jsxs)("div",{className:"dropdown-item",children:[(0,l.jsx)("strong",{children:a.pillar_id}),a.mappings&&a.mappings.map(i=>(0,l.jsxs)(o.zx,{size:"sm",variant:"link",className:"d-block text-start",onClick:()=>y(e.id,a.pillar_id,i.target_sublevel),children:["Map to ",i.target_sublevel]},"".concat(i.target_sublevel)))]},a.pillar_id))})]}),e.description&&(0,l.jsx)(o.xv,{fontSize:"sm",color:"gray.600",ml:3,children:e.description}),e.sublevels&&w(e.sublevels,a+1)]},e.id))}):(0,l.jsx)(o.xv,{color:"gray.500",ml:4*a,children:"No sublevels defined"})};return(0,l.jsx)("div",{children:(0,l.jsxs)(o.Zb,{className:"mb-4",children:[(0,l.jsx)(o.Zb.Header,{children:(0,l.jsx)(o.Zb.Title,{children:"Knowledge Pillar Dynamic Mapping"})}),(0,l.jsxs)(o.Zb.Body,{children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)(o.__,{htmlFor:"pillarSelect",children:"Select Pillar Level:"}),(0,l.jsx)(o.Lt,{title:n||"Select a Pillar",id:"pillarSelect",children:i.map(e=>(0,l.jsxs)(o.Lt.Item,{onClick:()=>N(e.id),children:[e.id,": ",e.label||e.name]},e.id))})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)(o.__,{htmlFor:"contextText",children:"Context for Expansion:"}),(0,l.jsx)(o.gx,{id:"contextText",value:m,onChange:e=>p(e.target.value),placeholder:"Enter text to provide context for dynamic mapping expansion...",rows:4}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)(o.zx,{onClick:()=>{n?j(n,m):showToast({title:"Warning",description:"Please select a pillar first",status:"warning",duration:3e3})},disabled:!n||h,isLoading:h,children:c?"Re-expand with Context":"Expand with Context"})})]}),c&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h4",{className:"mb-3",children:["Pillar Structure: ",c.pillar_name," (",c.pillar_id,")"]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h5",{children:"Base Sublevels"}),w(c.base_sublevels)]}),c.expanded_sublevels&&c.expanded_sublevels.length>0&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h5",{children:"Expanded Sublevels"}),w(c.expanded_sublevels)]}),c.related_pillars&&c.related_pillars.length>0&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h5",{children:"Related Pillars"}),(0,l.jsx)("div",{className:"row",children:c.related_pillars.map(e=>(0,l.jsx)("div",{className:"col-md-6 mb-3",children:(0,l.jsx)(o.Zb,{children:(0,l.jsxs)(o.Zb.Body,{children:[(0,l.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,l.jsx)("h6",{className:"mb-0",children:e.pillar_id}),(0,l.jsx)(o.Ct,{className:"ms-2",color:e.suggested?"warning":"success",children:e.suggested?"Suggested":"Mapped"}),(0,l.jsxs)(o.xv,{className:"ms-auto",children:["Strength: ",e.strength.toFixed(2)]})]}),e.mappings&&e.mappings.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)(o.xv,{fontSize:"sm",fontWeight:"bold",children:"Existing Mappings:"}),(0,l.jsx)("ul",{className:"list-unstyled ms-3",children:e.mappings.map((e,a)=>(0,l.jsx)("li",{children:(0,l.jsxs)(o.xv,{fontSize:"sm",children:[e.source_sublevel||"source"," â†’ ",e.target_sublevel||"target",e.mapping_type&&" (".concat(e.mapping_type,")")]})},a))})]}),e.reason&&(0,l.jsx)(o.xv,{fontSize:"sm",fontStyle:"italic",color:"gray.500",mt:1,children:e.reason})]})})},e.pillar_id))})]}),u&&u.length>0&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h5",{children:"All Dynamic Mappings"}),(0,l.jsx)("div",{className:"table-responsive",children:(0,l.jsxs)("table",{className:"table table-sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Source"}),(0,l.jsx)("th",{children:"Target"}),(0,l.jsx)("th",{children:"Type"}),(0,l.jsx)("th",{children:"Strength"})]})}),(0,l.jsx)("tbody",{children:u.map((e,a)=>(0,l.jsxs)("tr",{children:[(0,l.jsxs)("td",{children:[e.source.pillar_id,".",e.source.sublevel_id]}),(0,l.jsxs)("td",{children:[e.target.pillar_id,".",e.target.sublevel_id]}),(0,l.jsx)("td",{children:e.mapping_type}),(0,l.jsx)("td",{children:e.strength.toFixed(2)})]},a))})]})})]})]})]})]})})}function x(){let[e,a]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[d,x]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/pillars/");if(e.ok){let i=await e.json();a(i)}else x("Failed to fetch pillars")}catch(e){x("Error fetching pillars: ".concat(e.message))}finally{s(!1)}})()},[]),(0,l.jsxs)(t.Z,{children:[(0,l.jsxs)(n(),{children:[(0,l.jsx)("title",{children:"UKG - Knowledge Pillar System"}),(0,l.jsx)("meta",{name:"description",content:"Universal Knowledge Graph Pillar Level Management"})]}),(0,l.jsx)("div",{className:"container-fluid my-4",children:(0,l.jsx)("div",{className:"row",children:(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsx)("h1",{className:"mb-4",children:"Knowledge Pillar System (Axis 1)"}),d&&(0,l.jsx)("div",{className:"alert alert-danger",children:d}),i?(0,l.jsx)("div",{className:"d-flex justify-content-center my-5",children:(0,l.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,l.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(o.Zb,{className:"mb-4",children:[(0,l.jsx)(o.Zb.Header,{children:(0,l.jsx)(o.Zb.Title,{children:"Pillar Levels Overview"})}),(0,l.jsx)(o.Zb.Body,{children:(0,l.jsx)("div",{className:"row",children:e.map(e=>(0,l.jsx)("div",{className:"col-md-4 col-sm-6 mb-3",children:(0,l.jsx)(o.Zb,{children:(0,l.jsxs)(o.Zb.Body,{children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsx)("h5",{className:"mb-1",children:e.id}),(0,l.jsx)(o.zx,{size:"sm",variant:"outline-primary",href:"/pillars?id=".concat(e.id),children:"Map"})]}),(0,l.jsx)(o.xv,{fontWeight:"bold",children:e.label||e.name}),(0,l.jsx)(o.xv,{fontSize:"sm",children:e.description}),(0,l.jsxs)(o.xv,{fontSize:"xs",className:"text-muted mt-2",children:["Sublevels: ",e.sublevels&&Array.isArray(e.sublevels)?e.sublevels.length:Object.keys(e.sublevels||{}).length||0]})]})})},e.id))})})]}),(0,l.jsxs)("div",{className:"my-5",children:[(0,l.jsx)("h2",{className:"mb-4",children:"Dynamic Pillar Mapping Engine"}),(0,l.jsx)(c,{initialPillarId:void 0})]})]})]})})})]})}}},function(e){e.O(0,[945,198,581,229,888,774,179],function(){return e(e.s=2040)}),_N_E=e.O()}]);