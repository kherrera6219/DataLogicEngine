(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{6608:function(e,i,a){"use strict";a.d(i,{x:function(){return p}});var n=a(7294),t=a(2466),l=a(9337);let s=(e,i)=>{let{wrap:a,truncate:n,block:s,italic:r,underline:o,strikethrough:c,size:d,font:h,weight:m,align:x}=e;return{align:null!=x?x:"start",block:null!=s&&s,font:null!=h?h:"base",italic:null!=r&&r,size:null!=d?d:300,strikethrough:null!=c&&c,truncate:null!=n&&n,underline:null!=o&&o,weight:null!=m?m:"regular",wrap:null==a||a,components:{root:"span"},root:t.Bx((0,l.h)("span",{ref:i,...e}),{elementType:"span"})}};var r=a(7842),o=a(83);let c=e=>((0,o.a)(e),(0,r.tZ)(e.root,{}));var d=a(5615),h=a(2715);let m=(0,d.s)({root:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bg96gwp:"f1i3iumi",Bhrd7zp:"figsok6",fsow6f:"fpgzoln",mc9l5x:"f1w7gpdv",Huce71:"f6juhto",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1gl81tg",ygn44y:"f2jf649"},nowrap:{Huce71:"fz5stix",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp"},truncate:{ygn44y:"f1cmbuwj"},block:{mc9l5x:"ftgm304"},italic:{B80ckks:"f1j4dglz"},underline:{w71qe1:"f13mvf36"},strikethrough:{w71qe1:"fv5q2k7"},strikethroughUnderline:{w71qe1:"f1drk4o6"},base100:{Be2twd7:"f13mqy1h",Bg96gwp:"fcpl73t"},base200:{Be2twd7:"fy9rknc",Bg96gwp:"fwrc4pm"},base400:{Be2twd7:"fod5ikn",Bg96gwp:"faaz57k"},base500:{Be2twd7:"f1pp30po",Bg96gwp:"f106mvju"},base600:{Be2twd7:"f1x0m3f5",Bg96gwp:"fb86gi6"},hero700:{Be2twd7:"fojgt09",Bg96gwp:"fcen8rp"},hero800:{Be2twd7:"fccw675",Bg96gwp:"f1ebx5kk"},hero900:{Be2twd7:"f15afnhw",Bg96gwp:"fr3w3wp"},hero1000:{Be2twd7:"fpyltcb",Bg96gwp:"f1ivgwrt"},monospace:{Bahqtrf:"f1fedwem"},numeric:{Bahqtrf:"f1uq0ln5"},weightMedium:{Bhrd7zp:"fdj6btp"},weightSemibold:{Bhrd7zp:"fl43uef"},weightBold:{Bhrd7zp:"flh3ekv"},alignCenter:{fsow6f:"f17mccla"},alignEnd:{fsow6f:"f12ymhq5"},alignJustify:{fsow6f:"f1j59e10"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fpgzoln{text-align:start;}",".f1w7gpdv{display:inline;}",".f6juhto{white-space:normal;}",[".f1gl81tg{overflow:visible;}",{p:-1}],".f2jf649{text-overflow:clip;}",".fz5stix{white-space:nowrap;}",[".f1a3p1vp{overflow:hidden;}",{p:-1}],".f1cmbuwj{text-overflow:ellipsis;}",".ftgm304{display:block;}",".f1j4dglz{font-style:italic;}",".f13mvf36{text-decoration-line:underline;}",".fv5q2k7{text-decoration-line:line-through;}",".f1drk4o6{text-decoration-line:line-through underline;}",".f13mqy1h{font-size:var(--fontSizeBase100);}",".fcpl73t{line-height:var(--lineHeightBase100);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",".f1pp30po{font-size:var(--fontSizeBase500);}",".f106mvju{line-height:var(--lineHeightBase500);}",".f1x0m3f5{font-size:var(--fontSizeBase600);}",".fb86gi6{line-height:var(--lineHeightBase600);}",".fojgt09{font-size:var(--fontSizeHero700);}",".fcen8rp{line-height:var(--lineHeightHero700);}",".fccw675{font-size:var(--fontSizeHero800);}",".f1ebx5kk{line-height:var(--lineHeightHero800);}",".f15afnhw{font-size:var(--fontSizeHero900);}",".fr3w3wp{line-height:var(--lineHeightHero900);}",".fpyltcb{font-size:var(--fontSizeHero1000);}",".f1ivgwrt{line-height:var(--lineHeightHero1000);}",".f1fedwem{font-family:var(--fontFamilyMonospace);}",".f1uq0ln5{font-family:var(--fontFamilyNumeric);}",".fdj6btp{font-weight:var(--fontWeightMedium);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".flh3ekv{font-weight:var(--fontWeightBold);}",".f17mccla{text-align:center;}",".f12ymhq5{text-align:end;}",".f1j59e10{text-align:justify;}"]}),x=e=>{let i=m();return e.root.className=(0,h.z)("fui-Text",i.root,!1===e.wrap&&i.nowrap,e.truncate&&i.truncate,e.block&&i.block,e.italic&&i.italic,e.underline&&i.underline,e.strikethrough&&i.strikethrough,e.underline&&e.strikethrough&&i.strikethroughUnderline,100===e.size&&i.base100,200===e.size&&i.base200,400===e.size&&i.base400,500===e.size&&i.base500,600===e.size&&i.base600,700===e.size&&i.hero700,800===e.size&&i.hero800,900===e.size&&i.hero900,1e3===e.size&&i.hero1000,"monospace"===e.font&&i.monospace,"numeric"===e.font&&i.numeric,"medium"===e.weight&&i.weightMedium,"semibold"===e.weight&&i.weightSemibold,"bold"===e.weight&&i.weightBold,"center"===e.align&&i.alignCenter,"end"===e.align&&i.alignEnd,"justify"===e.align&&i.alignJustify,e.root.className),e};var u=a(3162);let p=n.forwardRef((e,i)=>{let a=s(e,i);return x(a),(0,u.oj)("useTextStyles_unstable")(a),c(a)});p.displayName="Text"},5602:function(e,i,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/locations",function(){return a(8808)}])},6153:function(e,i,a){"use strict";a.d(i,{Z:function(){return h}});var n=a(5893);a(7294);var t=a(2874),l=a(4695),s=a(2715),r=a(6608);a(1664);var o=a(1163),c=a(1317);let d=(0,t.Z)({container:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{flex:"1 0 auto",...l.q5.padding("24px","0"),width:"100%",maxWidth:"100%",overflowX:"hidden"},mainContent:{maxWidth:"1400px",marginLeft:"auto",marginRight:"auto",...l.q5.padding("0","16px"),"@media(min-width: 576px)":{...l.q5.padding("0","24px")}},footer:{backgroundColor:"var(--colorNeutralBackground2)",color:"var(--colorNeutralForeground2)",...l.q5.padding("16px","0"),marginTop:"32px"},footerContent:{maxWidth:"1400px",marginLeft:"auto",marginRight:"auto",...l.q5.padding("0","16px"),"@media(min-width: 576px)":{...l.q5.padding("0","24px")}},footerRow:{display:"flex",flexDirection:"column","@media(min-width: 768px)":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},footerCopyright:{textAlign:"center",marginBottom:"16px","@media(min-width: 768px)":{textAlign:"left",marginBottom:"0"}},socialLinks:{display:"flex",justifyContent:"center",gap:"24px","@media(min-width: 768px)":{justifyContent:"flex-end"}},socialLink:{color:"var(--colorNeutralForeground2)",fontSize:"20px",transition:"color 0.2s",":hover":{color:"var(--colorBrandForeground1)"}}});function h(e){let{children:i,className:a}=e,t=d();return(0,o.useRouter)(),(0,n.jsxs)("div",{className:t.container,children:[(0,n.jsx)(c.Z,{navItems:[{label:"Home",href:"/",icon:"house-door"},{label:"Chat",href:"/chat",icon:"chat-dots"},{label:"About",href:"#about",icon:"info-circle"}]}),(0,n.jsx)("main",{className:(0,s.z)(t.main,a),children:(0,n.jsx)("div",{className:t.mainContent,children:i})}),(0,n.jsx)("footer",{className:t.footer,children:(0,n.jsx)("div",{className:t.footerContent,children:(0,n.jsxs)("div",{className:t.footerRow,children:[(0,n.jsx)("div",{className:t.footerCopyright,children:(0,n.jsxs)(r.x,{size:200,children:["Universal Knowledge Graph System \xa9 ",new Date().getFullYear()]})}),(0,n.jsxs)("div",{className:t.socialLinks,children:[(0,n.jsx)("a",{href:"#",className:t.socialLink,"aria-label":"GitHub",children:(0,n.jsx)("i",{className:"bi bi-github"})}),(0,n.jsx)("a",{href:"#",className:t.socialLink,"aria-label":"Twitter",children:(0,n.jsx)("i",{className:"bi bi-twitter"})}),(0,n.jsx)("a",{href:"#",className:t.socialLink,"aria-label":"LinkedIn",children:(0,n.jsx)("i",{className:"bi bi-linkedin"})})]})]})})})]})}},1317:function(e,i,a){"use strict";var n=a(5893),t=a(7294),l=a(2874),s=a(4695),r=a(8420),o=a(4144),c=a(3371),d=a(7730),h=a(3096),m=a(8577),x=a(6351),u=a(1664),p=a.n(u),f=a(1163);let g=(0,l.Z)({navbar:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"var(--colorNeutralBackground1)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",...s.q5.padding("8px","16px"),height:"60px",width:"100%",position:"sticky",top:0,zIndex:100},brand:{display:"flex",alignItems:"center",gap:"12px",textDecoration:"none",color:"var(--colorBrandForeground1)",fontWeight:600},logo:{display:"flex",fontSize:"24px"},title:{fontSize:"18px","@media(max-width: 576px)":{display:"none"}},titleShort:{display:"none",fontSize:"18px","@media(max-width: 576px)":{display:"block"}},navItems:{display:"flex",alignItems:"center",gap:"8px","@media(max-width: 768px)":{display:"none"}},mobileMenu:{display:"none","@media(max-width: 768px)":{display:"block"}},navLink:{color:"var(--colorNeutralForeground1)",textDecoration:"none",...s.q5.padding("8px","12px"),borderRadius:"4px",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--colorNeutralBackground2)"}},activeNavLink:{backgroundColor:"var(--colorNeutralBackground2)",fontWeight:600}}),j=e=>{let{navItems:i=[]}=e,a=g(),l=(0,f.useRouter)(),[s,u]=(0,t.useState)(!1),j=e=>l.pathname===e;return(0,n.jsxs)("nav",{className:a.navbar,children:[(0,n.jsxs)(p(),{href:"/",className:a.brand,children:[(0,n.jsx)("span",{className:a.logo,children:(0,n.jsx)("i",{className:"bi bi-diagram-3"})}),(0,n.jsx)("span",{className:a.title,children:"Universal Knowledge Graph"}),(0,n.jsx)("span",{className:a.titleShort,children:"UKG"})]}),(0,n.jsx)("div",{className:a.navItems,children:i.map((e,i)=>(0,n.jsx)(r.u,{content:e.label,children:(0,n.jsxs)(p(),{href:e.href,className:"".concat(a.navLink," ").concat(j(e.href)?a.activeNavLink:""),children:[e.icon&&(0,n.jsx)("i",{className:"bi bi-".concat(e.icon," me-2")}),e.label]})},i))}),(0,n.jsx)("div",{className:a.mobileMenu,children:(0,n.jsxs)(o.v,{children:[(0,n.jsx)(c.b,{disableButtonEnhancement:!0,children:(0,n.jsx)(d.z,{icon:(0,n.jsx)("i",{className:"bi bi-list"}),iconOnly:!0,appearance:"subtle","aria-label":"Menu"})}),(0,n.jsx)(h.Y,{children:(0,n.jsx)(m.q,{children:i.map((e,i)=>(0,n.jsx)(x.s,{onClick:()=>l.push(e.href),icon:(0,n.jsx)("i",{className:"bi bi-".concat(e.icon)}),children:e.label},i))})})]})})]})};j.defaultProps={navItems:[{href:"/",label:"Home",icon:"house"},{href:"/axis1",label:"Axis 1",icon:"1-circle"},{href:"/axis2",label:"Axis 2",icon:"2-circle"},{href:"/axis3",label:"Axis 3",icon:"3-circle"},{href:"/axis4",label:"Axis 4",icon:"4-circle"},{href:"/axis5",label:"Axis 5",icon:"5-circle"},{href:"/axis6",label:"Axis 6",icon:"gear"},{href:"/compliance",label:"Compliance",icon:"check-circle"},{href:"/locations",label:"Locations",icon:"geo-alt"},{href:"/contextual",label:"Context Experts",icon:"person"},{href:"/timeline",label:"Timeline",icon:"clock-history"},{href:"/unified-mapping",label:"Unified Mapping",icon:"geo"},{href:"/compliance-dashboard",label:"SOC 2 Compliance",icon:"shield-check"}]},i.Z=j},6346:function(e,i,a){"use strict";var n=a(3967),t=a.n(n),l=a(7294),s=a(7400),r=a(5893);let o=l.forwardRef((e,i)=>{let{bsPrefix:a,variant:n,animation:l="border",size:o,as:c="div",className:d,...h}=e;a=(0,s.vE)(a,"spinner");let m="".concat(a,"-").concat(l);return(0,r.jsx)(c,{ref:i,...h,className:t()(d,m,o&&"".concat(m,"-").concat(o),n&&"text-".concat(n))})});o.displayName="Spinner",i.Z=o},8808:function(e,i,a){"use strict";a.r(i),a.d(i,{default:function(){return x}});var n=a(5893),t=a(9008),l=a.n(t),s=a(6153),r=a(7294),o=a(6720),c=a(2121),d=a(1351),h=a(6346),m=e=>{let{initialLocations:i}=e,[a,t]=(0,r.useState)(i||[]),[l,s]=(0,r.useState)(!1),[m,x]=(0,r.useState)(null),[u,p]=(0,r.useState)(null),[f,g]=(0,r.useState)({name:"",type:"",lat:"",lng:"",radius:"50"}),[j,b]=(0,r.useState)("list"),[v,y]=(0,r.useState)([]),w=(0,r.useRef)(null),N=(0,r.useRef)(null),k=(0,r.useRef)([]),B=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(!0),x(null);try{let i=new URLSearchParams;Object.entries(e).forEach(e=>{let[a,n]=e;n&&i.append(a,n)});let a=await fetch("/api/locations?".concat(i.toString())),n=await a.json();n.success?t(n.locations||[]):x(n.error||"Failed to fetch locations")}catch(e){x("Error fetching locations: "+e.message)}finally{s(!1)}},[]);(0,r.useEffect)(()=>{B()},[B]);let C=(0,r.useCallback)(()=>{if(!w.current||!window.google)return;let e={lat:0,lng:0},i=new window.google.maps.LatLngBounds,n=!1;a.forEach(e=>{e.latitude&&e.longitude&&(i.extend({lat:e.latitude,lng:e.longitude}),n=!0)}),n||(e={lat:39.8283,lng:-98.5795}),N.current=new window.google.maps.Map(w.current,{center:e,zoom:4,mapTypeId:"roadmap"}),k.current=a.filter(e=>e.latitude&&e.longitude).map(e=>{let i=new window.google.maps.Marker({position:{lat:e.latitude,lng:e.longitude},map:N.current,title:e.name,animation:window.google.maps.Animation.DROP});return i.addListener("click",()=>{p(e)}),i}),n&&N.current.fitBounds(i)},[a]);(0,r.useEffect)(()=>{a.length>0&&"map"===j&&window.google&&window.google.maps&&C()},[a,j,C]),(0,r.useEffect)(()=>{if("map"===j&&!window.google){let e=document.createElement("script");return e.src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places",e.async=!0,e.defer=!0,e.onload=()=>{a.length>0&&C()},document.head.appendChild(e),()=>{document.head.removeChild(e)}}},[j,C,a.length]);let z=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;s(!0),x(null);try{let i=new URLSearchParams;e&&i.append("root_uid",e);let a=await fetch("/api/locations/hierarchy?".concat(i.toString())),n=await a.json();n.success?(y(n.hierarchies||[n.hierarchy]),b("hierarchy")):x(n.error||"Failed to fetch location hierarchy")}catch(e){x("Error fetching hierarchy: "+e.message)}finally{s(!1)}},S=e=>{let{name:i,value:a}=e.target;g(e=>({...e,[i]:a}))},Z=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,n.jsxs)("div",{className:"location-hierarchy-node mb-2",children:[(0,n.jsxs)("div",{className:"d-flex align-items-center",style:{paddingLeft:"".concat(20*i,"px")},children:[(0,n.jsx)("i",{className:"bi bi-geo-alt me-2 ".concat(0===i?"text-primary":"")}),(0,n.jsxs)("span",{className:"location-name ".concat(0===i?"fw-bold":""),onClick:()=>p(e),style:{cursor:"pointer"},children:[e.name,(0,n.jsxs)("span",{className:"text-muted ms-2 small",children:["(",e.location_type,")"]})]})]}),e.children&&e.children.length>0&&(0,n.jsx)("div",{className:"children-container",children:e.children.map(e=>Z(e,i+1))})]},e.uid)};return(0,n.jsxs)("div",{className:"location-manager",children:[(0,n.jsxs)("div",{className:"d-flex justify-content-between mb-4",children:[(0,n.jsx)("h2",{children:"Location Management (Axis 12)"}),(0,n.jsxs)("div",{className:"btn-group",children:[(0,n.jsxs)(o.Z,{variant:"list"===j?"primary":"outline-primary",onClick:()=>b("list"),children:[(0,n.jsx)("i",{className:"bi bi-list me-1"})," List View"]}),(0,n.jsxs)(o.Z,{variant:"map"===j?"primary":"outline-primary",onClick:()=>b("map"),children:[(0,n.jsx)("i",{className:"bi bi-map me-1"})," Map View"]}),(0,n.jsxs)(o.Z,{variant:"hierarchy"===j?"primary":"outline-primary",onClick:()=>z(),children:[(0,n.jsx)("i",{className:"bi bi-diagram-3 me-1"})," Hierarchy"]})]})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-md-4",children:[(0,n.jsxs)(c.Z,{className:"mb-4",children:[(0,n.jsx)(c.Z.Header,{children:"Location Search"}),(0,n.jsx)(c.Z.Body,{children:(0,n.jsxs)(d.Z,{onSubmit:e=>{e.preventDefault(),B(f)},children:[(0,n.jsxs)(d.Z.Group,{className:"mb-3",children:[(0,n.jsx)(d.Z.Label,{children:"Name"}),(0,n.jsx)(d.Z.Control,{type:"text",name:"name",placeholder:"Search by name",value:f.name,onChange:S})]}),(0,n.jsxs)(d.Z.Group,{className:"mb-3",children:[(0,n.jsx)(d.Z.Label,{children:"Type"}),(0,n.jsxs)(d.Z.Select,{name:"type",value:f.type,onChange:S,children:[(0,n.jsx)("option",{value:"",children:"All Types"}),(0,n.jsx)("option",{value:"Country",children:"Country"}),(0,n.jsx)("option",{value:"State",children:"State/Province"}),(0,n.jsx)("option",{value:"City",children:"City"}),(0,n.jsx)("option",{value:"County",children:"County"}),(0,n.jsx)("option",{value:"Region",children:"Region"}),(0,n.jsx)("option",{value:"SupranationalRegion",children:"Supranational Region"})]})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-6",children:(0,n.jsxs)(d.Z.Group,{className:"mb-3",children:[(0,n.jsx)(d.Z.Label,{children:"Latitude"}),(0,n.jsx)(d.Z.Control,{type:"number",name:"lat",placeholder:"e.g. 40.7128",value:f.lat,onChange:S,step:"any"})]})}),(0,n.jsx)("div",{className:"col-6",children:(0,n.jsxs)(d.Z.Group,{className:"mb-3",children:[(0,n.jsx)(d.Z.Label,{children:"Longitude"}),(0,n.jsx)(d.Z.Control,{type:"number",name:"lng",placeholder:"e.g. -74.0060",value:f.lng,onChange:S,step:"any"})]})})]}),(0,n.jsxs)(d.Z.Group,{className:"mb-3",children:[(0,n.jsx)(d.Z.Label,{children:"Radius (km)"}),(0,n.jsx)(d.Z.Control,{type:"number",name:"radius",placeholder:"Search radius in km",value:f.radius,onChange:S,min:"1",max:"5000"})]}),(0,n.jsx)("div",{className:"d-grid",children:(0,n.jsxs)(o.Z,{variant:"primary",type:"submit",disabled:l,children:[l?(0,n.jsx)(h.Z,{size:"sm",animation:"border"}):(0,n.jsx)("i",{className:"bi bi-search me-1"}),"Search Locations"]})})]})})]}),u&&(0,n.jsxs)(c.Z,{className:"location-details",children:[(0,n.jsxs)(c.Z.Header,{className:"d-flex justify-content-between align-items-center",children:[(0,n.jsx)("span",{children:"Location Details"}),(0,n.jsx)(o.Z,{variant:"link",className:"p-0 text-muted",onClick:()=>p(null),children:(0,n.jsx)("i",{className:"bi bi-x-lg"})})]}),(0,n.jsxs)(c.Z.Body,{children:[(0,n.jsx)("h4",{children:u.name}),(0,n.jsx)("p",{className:"text-muted",children:u.location_type}),u.latitude&&u.longitude&&(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Coordinates:"})," ",u.latitude,", ",u.longitude]}),u.attributes&&Object.keys(u.attributes).length>0&&(0,n.jsxs)("div",{className:"mt-3",children:[(0,n.jsx)("h5",{children:"Attributes"}),(0,n.jsx)("ul",{className:"list-unstyled",children:Object.entries(u.attributes).map(e=>{let[i,a]=e;return(0,n.jsxs)("li",{className:"mb-1",children:[(0,n.jsxs)("strong",{children:[i,":"]})," ","object"==typeof a?JSON.stringify(a):a]},i)})})]}),u.parent&&(0,n.jsxs)("div",{className:"mt-3",children:[(0,n.jsx)("h5",{children:"Parent Location"}),(0,n.jsxs)("p",{className:"mb-0 cursor-pointer",onClick:()=>p(u.parent),style:{cursor:"pointer"},children:[(0,n.jsx)("i",{className:"bi bi-arrow-up-right me-1"}),u.parent.name," (",u.parent.location_type,")"]})]}),u.children&&u.children.length>0&&(0,n.jsxs)("div",{className:"mt-3",children:[(0,n.jsxs)("h5",{children:["Sub-Locations (",u.children.length,")"]}),(0,n.jsxs)("ul",{className:"list-unstyled",children:[u.children.slice(0,5).map(e=>(0,n.jsx)("li",{className:"mb-1",children:(0,n.jsxs)("span",{className:"cursor-pointer",onClick:()=>p(e),style:{cursor:"pointer"},children:[(0,n.jsx)("i",{className:"bi bi-geo-alt-fill me-1 small"}),e.name," (",e.location_type,")"]})},e.uid)),u.children.length>5&&(0,n.jsxs)("li",{className:"text-muted small",children:["+ ",u.children.length-5," more locations"]})]})]}),(0,n.jsx)("div",{className:"mt-3 d-grid gap-2",children:(0,n.jsxs)(o.Z,{variant:"outline-primary",size:"sm",onClick:()=>z(u.uid),children:[(0,n.jsx)("i",{className:"bi bi-diagram-3 me-1"}),"View in Hierarchy"]})})]})]})]}),(0,n.jsxs)("div",{className:"col-md-8",children:[m&&(0,n.jsxs)("div",{className:"alert alert-danger",children:[(0,n.jsx)("i",{className:"bi bi-exclamation-triangle me-2"}),m]}),l?(0,n.jsxs)("div",{className:"text-center my-5",children:[(0,n.jsx)(h.Z,{animation:"border"}),(0,n.jsx)("p",{className:"mt-2",children:"Loading location data..."})]}):(0,n.jsxs)(n.Fragment,{children:["list"===j&&(0,n.jsx)("div",{className:"location-list",children:(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(c.Z.Header,{children:(0,n.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,n.jsxs)("span",{children:["Locations (",a.length,")"]}),(0,n.jsx)("div",{children:(0,n.jsxs)(d.Z.Select,{size:"sm",className:"d-inline-block",style:{width:"auto"},onChange:e=>{g(i=>({...i,type:e.target.value})),B({...f,type:e.target.value})},value:f.type,children:[(0,n.jsx)("option",{value:"",children:"All Types"}),(0,n.jsx)("option",{value:"Country",children:"Countries"}),(0,n.jsx)("option",{value:"State",children:"States/Provinces"}),(0,n.jsx)("option",{value:"City",children:"Cities"}),(0,n.jsx)("option",{value:"County",children:"Counties"}),(0,n.jsx)("option",{value:"Region",children:"Regions"})]})})]})}),(0,n.jsx)("div",{className:"table-responsive",children:(0,n.jsxs)("table",{className:"table table-hover mb-0",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Name"}),(0,n.jsx)("th",{children:"Type"}),(0,n.jsx)("th",{children:"Coordinates"}),f.lat&&f.lng&&(0,n.jsx)("th",{children:"Distance"}),(0,n.jsx)("th",{children:"Actions"})]})}),(0,n.jsx)("tbody",{children:0===a.length?(0,n.jsx)("tr",{children:(0,n.jsxs)("td",{colSpan:"5",className:"text-center py-3",children:[(0,n.jsx)("i",{className:"bi bi-inbox me-2"}),"No locations found"]})}):a.map(e=>(0,n.jsxs)("tr",{onClick:()=>p(e),style:{cursor:"pointer"},className:(null==u?void 0:u.uid)===e.uid?"table-primary":"",children:[(0,n.jsx)("td",{children:e.name}),(0,n.jsx)("td",{children:(0,n.jsx)("span",{className:"badge bg-secondary",children:e.location_type})}),(0,n.jsx)("td",{children:e.latitude&&e.longitude?(0,n.jsxs)("small",{children:[e.latitude.toFixed(4),", ",e.longitude.toFixed(4)]}):(0,n.jsx)("span",{className:"text-muted",children:"N/A"})}),f.lat&&f.lng&&(0,n.jsx)("td",{children:void 0!==e.distance?(0,n.jsxs)("span",{children:[e.distance.toFixed(1)," km"]}):(0,n.jsx)("span",{className:"text-muted",children:"N/A"})}),(0,n.jsx)("td",{children:(0,n.jsx)(o.Z,{size:"sm",variant:"link",onClick:i=>{i.stopPropagation(),p(e)},children:(0,n.jsx)("i",{className:"bi bi-info-circle"})})})]},e.uid))})]})})]})}),"map"===j&&(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(c.Z.Header,{children:"Location Map"}),(0,n.jsx)(c.Z.Body,{className:"p-0",children:(0,n.jsx)("div",{ref:w,style:{height:"600px",width:"100%"},className:"location-map",children:!window.google&&(0,n.jsxs)("div",{className:"text-center p-5",children:[(0,n.jsx)("p",{children:"Loading map..."}),(0,n.jsx)(h.Z,{animation:"border"})]})})})]}),"hierarchy"===j&&(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(c.Z.Header,{children:"Location Hierarchy"}),(0,n.jsx)(c.Z.Body,{children:0===v.length?(0,n.jsx)("div",{className:"text-center py-3",children:(0,n.jsx)("p",{children:"No hierarchy data available"})}):(0,n.jsx)("div",{className:"location-hierarchy",children:v.map(e=>Z(e))})})]})]})]})]})]})};function x(){let[e,i]=(0,r.useState)([]),[a,t]=(0,r.useState)(!0),[o,c]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async function(){try{let e=await fetch("/api/locations"),a=await e.json();a.success?i(a.locations||[]):c(a.error||"Failed to fetch locations")}catch(e){c("Error loading locations: "+e.message)}finally{t(!1)}})()},[]),(0,n.jsxs)(s.Z,{children:[(0,n.jsxs)(l(),{children:[(0,n.jsx)("title",{children:"UKG - Location Management (Axis 12)"}),(0,n.jsx)("meta",{name:"description",content:"Universal Knowledge Graph Location Management"})]}),(0,n.jsx)("div",{className:"container-fluid mt-4 mb-5",children:o?(0,n.jsxs)("div",{className:"alert alert-danger",children:[(0,n.jsx)("i",{className:"bi bi-exclamation-triangle me-2"}),o]}):a?(0,n.jsxs)("div",{className:"text-center my-5",children:[(0,n.jsx)("div",{className:"spinner-border",role:"status",children:(0,n.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,n.jsx)("p",{className:"mt-2",children:"Loading location data..."})]}):(0,n.jsx)(m,{initialLocations:e})})]})}},9008:function(e,i,a){e.exports=a(3867)}},function(e){e.O(0,[198,117,739,675,888,774,179],function(){return e(e.s=5602)}),_N_E=e.O()}]);