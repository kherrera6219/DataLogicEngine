(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{7722:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat",function(){return a(1689)}])},6153:function(e,s,a){"use strict";a.d(s,{Z:function(){return h}});var n=a(5893);a(7294);var t=a(2874),i=a(4695),l=a(2715),c=a(6608);a(1664);var r=a(1163),o=a(1317);let d=(0,t.Z)({container:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{flex:"1 0 auto",...i.q5.padding("24px","0"),width:"100%",maxWidth:"100%",overflowX:"hidden"},mainContent:{maxWidth:"1400px",marginLeft:"auto",marginRight:"auto",...i.q5.padding("0","16px"),"@media(min-width: 576px)":{...i.q5.padding("0","24px")}},footer:{backgroundColor:"var(--colorNeutralBackground2)",color:"var(--colorNeutralForeground2)",...i.q5.padding("16px","0"),marginTop:"32px"},footerContent:{maxWidth:"1400px",marginLeft:"auto",marginRight:"auto",...i.q5.padding("0","16px"),"@media(min-width: 576px)":{...i.q5.padding("0","24px")}},footerRow:{display:"flex",flexDirection:"column","@media(min-width: 768px)":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},footerCopyright:{textAlign:"center",marginBottom:"16px","@media(min-width: 768px)":{textAlign:"left",marginBottom:"0"}},socialLinks:{display:"flex",justifyContent:"center",gap:"24px","@media(min-width: 768px)":{justifyContent:"flex-end"}},socialLink:{color:"var(--colorNeutralForeground2)",fontSize:"20px",transition:"color 0.2s",":hover":{color:"var(--colorBrandForeground1)"}}});function h(e){let{children:s,className:a}=e,t=d();return(0,r.useRouter)(),(0,n.jsxs)("div",{className:t.container,children:[(0,n.jsx)(o.Z,{navItems:[{label:"Home",href:"/",icon:"house-door"},{label:"Chat",href:"/chat",icon:"chat-dots"},{label:"About",href:"#about",icon:"info-circle"}]}),(0,n.jsx)("main",{className:(0,l.z)(t.main,a),children:(0,n.jsx)("div",{className:t.mainContent,children:s})}),(0,n.jsx)("footer",{className:t.footer,children:(0,n.jsx)("div",{className:t.footerContent,children:(0,n.jsxs)("div",{className:t.footerRow,children:[(0,n.jsx)("div",{className:t.footerCopyright,children:(0,n.jsxs)(c.x,{size:200,children:["Universal Knowledge Graph System \xa9 ",new Date().getFullYear()]})}),(0,n.jsxs)("div",{className:t.socialLinks,children:[(0,n.jsx)("a",{href:"#",className:t.socialLink,"aria-label":"GitHub",children:(0,n.jsx)("i",{className:"bi bi-github"})}),(0,n.jsx)("a",{href:"#",className:t.socialLink,"aria-label":"Twitter",children:(0,n.jsx)("i",{className:"bi bi-twitter"})}),(0,n.jsx)("a",{href:"#",className:t.socialLink,"aria-label":"LinkedIn",children:(0,n.jsx)("i",{className:"bi bi-linkedin"})})]})]})})})]})}},1317:function(e,s,a){"use strict";var n=a(5893),t=a(7294),i=a(2874),l=a(4695),c=a(8420),r=a(4144),o=a(3371),d=a(7730),h=a(3096),m=a(8577),x=a(6351),p=a(1664),b=a.n(p),u=a(1163);let g=(0,i.Z)({navbar:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"var(--colorNeutralBackground1)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",...l.q5.padding("8px","16px"),height:"60px",width:"100%",position:"sticky",top:0,zIndex:100},brand:{display:"flex",alignItems:"center",gap:"12px",textDecoration:"none",color:"var(--colorBrandForeground1)",fontWeight:600},logo:{display:"flex",fontSize:"24px"},title:{fontSize:"18px","@media(max-width: 576px)":{display:"none"}},titleShort:{display:"none",fontSize:"18px","@media(max-width: 576px)":{display:"block"}},navItems:{display:"flex",alignItems:"center",gap:"8px","@media(max-width: 768px)":{display:"none"}},mobileMenu:{display:"none","@media(max-width: 768px)":{display:"block"}},navLink:{color:"var(--colorNeutralForeground1)",textDecoration:"none",...l.q5.padding("8px","12px"),borderRadius:"4px",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--colorNeutralBackground2)"}},activeNavLink:{backgroundColor:"var(--colorNeutralBackground2)",fontWeight:600}}),f=e=>{let{navItems:s=[]}=e,a=g(),i=(0,u.useRouter)(),[l,p]=(0,t.useState)(!1),f=e=>i.pathname===e;return(0,n.jsxs)("nav",{className:a.navbar,children:[(0,n.jsxs)(b(),{href:"/",className:a.brand,children:[(0,n.jsx)("span",{className:a.logo,children:(0,n.jsx)("i",{className:"bi bi-diagram-3"})}),(0,n.jsx)("span",{className:a.title,children:"Universal Knowledge Graph"}),(0,n.jsx)("span",{className:a.titleShort,children:"UKG"})]}),(0,n.jsx)("div",{className:a.navItems,children:s.map((e,s)=>(0,n.jsx)(c.u,{content:e.label,children:(0,n.jsxs)(b(),{href:e.href,className:"".concat(a.navLink," ").concat(f(e.href)?a.activeNavLink:""),children:[e.icon&&(0,n.jsx)("i",{className:"bi bi-".concat(e.icon," me-2")}),e.label]})},s))}),(0,n.jsx)("div",{className:a.mobileMenu,children:(0,n.jsxs)(r.v,{children:[(0,n.jsx)(o.b,{disableButtonEnhancement:!0,children:(0,n.jsx)(d.z,{icon:(0,n.jsx)("i",{className:"bi bi-list"}),iconOnly:!0,appearance:"subtle","aria-label":"Menu"})}),(0,n.jsx)(h.Y,{children:(0,n.jsx)(m.q,{children:s.map((e,s)=>(0,n.jsx)(x.s,{onClick:()=>i.push(e.href),icon:(0,n.jsx)("i",{className:"bi bi-".concat(e.icon)}),children:e.label},s))})})]})})]})};f.defaultProps={navItems:[{href:"/",label:"Home",icon:"house"},{href:"/axis1",label:"Axis 1",icon:"1-circle"},{href:"/axis2",label:"Axis 2",icon:"2-circle"},{href:"/axis3",label:"Axis 3",icon:"3-circle"},{href:"/axis4",label:"Axis 4",icon:"4-circle"},{href:"/axis5",label:"Axis 5",icon:"5-circle"},{href:"/axis6",label:"Axis 6",icon:"gear"},{href:"/compliance",label:"Compliance",icon:"check-circle"},{href:"/locations",label:"Locations",icon:"geo-alt"},{href:"/contextual",label:"Context Experts",icon:"person"},{href:"/timeline",label:"Timeline",icon:"clock-history"},{href:"/unified-mapping",label:"Unified Mapping",icon:"geo"},{href:"/compliance-dashboard",label:"SOC 2 Compliance",icon:"shield-check"}]},s.Z=f},1689:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return o}});var n=a(5893),t=a(7294),i=a(9008),l=a.n(i),c=a(6153),r=a(7441);function o(){let[e,s]=(0,t.useState)([]),[i,o]=(0,t.useState)(""),[d,h]=(0,t.useState)([]),[m,x]=(0,t.useState)(null),[p,b]=(0,t.useState)("New Conversation"),[u,g]=(0,t.useState)(!1),[f,j]=(0,t.useState)({confidenceThreshold:.85,enableLocationContext:!0,enableResearchAgents:!0,personas:{ke:!0,se:!0,re:!0,ce:!0}}),N=["Summarize the 13 axes with one example per axis.","Draft a SOC 2 control checklist for a new vendor.","Map these requirements to the honeycomb crosswalk.","Show me the regulatory spiderweb for healthcare."],v=[{label:"Latency",value:"42ms",tone:"success"},{label:"Token stream",value:"2.1k/s",tone:"info"},{label:"Confidence",value:"".concat(Math.round(100*f.confidenceThreshold),"%"),tone:"warning"}],y=(0,t.useRef)(null),w=(0,t.useRef)(null);(0,t.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("ukg_chat_history");e&&h(JSON.parse(e))}catch(e){}})(),s([{id:"welcome",type:"system",content:"# Welcome to the UKG Chat System\n\nA comprehensive AI knowledge system with a 13-axis Universal Knowledge Graph. How can I help you today?"}])},[]),(0,t.useEffect)(()=>{var e;null===(e=y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e]),(0,t.useEffect)(()=>{w.current&&(w.current.style.height="auto",w.current.style.height=w.current.scrollHeight+"px")},[i]);let k=async()=>{if(!i.trim())return;let e={id:Date.now().toString(),type:"user",content:i,timestamp:new Date().toISOString()};s(s=>[...s,e]),o(""),g(!0);try{let e=await fetch("/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:i,target_confidence:f.confidenceThreshold,chat_id:m,use_location_context:f.enableLocationContext,use_research_agents:f.enableResearchAgents,active_personas:Object.entries(f.personas).filter(e=>{let[s,a]=e;return a}).map(e=>{let[s]=e;return s.toUpperCase()})})}),a=await e.json();if(!m&&a.chat_id){x(a.chat_id);let e={id:a.chat_id,title:_(i),created:new Date().toISOString(),lastUpdated:new Date().toISOString()};h(s=>[e,...s]),b(e.title),localStorage.setItem("ukg_chat_history",JSON.stringify([e,...d]))}let n={id:"response-".concat(Date.now()),type:"system",content:a.error?"Error: ".concat(a.error):a.response,confidence:a.confidence,timestamp:new Date().toISOString()};s(e=>[...e,n])}catch(a){let e={id:"error-".concat(Date.now()),type:"error",content:"Sorry, there was an error processing your request. Please try again.",timestamp:new Date().toISOString()};s(s=>[...s,e])}finally{g(!1)}},C=()=>{s([{id:"welcome",type:"system",content:"# Welcome to the UKG Chat System\n\nA comprehensive AI knowledge system with a 13-axis Universal Knowledge Graph. How can I help you today?"}]),x(null),b("New Conversation")},S=e=>{let a=d.find(s=>s.id===e);a&&(x(e),b(a.title),s([{id:"welcome",type:"system",content:"# ".concat(a.title,"\n\nContinuing your previous conversation.")}]))},_=e=>e?e.length>30?e.substring(0,30)+"...":e:"New Conversation";return(0,t.useEffect)(()=>{a.e(455).then(a.bind(a,1455)).then(e=>{let s=e.initResponsiveHandlers();return()=>s()})},[]),(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(l(),{children:(0,n.jsx)("title",{children:"UKG Chat Interface"})}),(0,n.jsxs)("div",{className:"chat-shell",children:[(0,n.jsxs)("aside",{className:"chat-sidebar p-3 d-flex flex-column gap-3",children:[(0,n.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"section-title mb-1",children:"Sessions"}),(0,n.jsx)("h5",{className:"mb-0",children:"AI Workbench"})]}),(0,n.jsxs)("div",{className:"d-flex gap-2",children:[(0,n.jsx)("button",{className:"btn btn-outline-light btn-sm rounded-pill",onClick:C,children:(0,n.jsx)("i",{className:"bi bi-plus-lg"})}),(0,n.jsx)("button",{className:"btn btn-outline-light btn-sm rounded-pill",onClick:()=>o("/cmd "),children:(0,n.jsx)("i",{className:"bi bi-command"})})]})]}),(0,n.jsxs)("div",{className:"d-grid gap-2",children:[0===d.length&&(0,n.jsxs)("div",{className:"glass-border p-3 text-center text-white-50",children:[(0,n.jsx)("i",{className:"bi bi-chat-square-text fs-3 d-block mb-2"}),"Start a new conversation"]}),d.map(e=>(0,n.jsx)("div",{className:"glass-border p-3 cursor-pointer ".concat(m===e.id?"bg-primary bg-opacity-10":""),onClick:()=>S(e.id),children:(0,n.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,n.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,n.jsx)("i",{className:"bi bi-chat-left-text"}),(0,n.jsx)("strong",{children:e.title})]}),(0,n.jsx)("span",{className:"badge bg-secondary",children:new Date(e.created).toLocaleDateString()})]})},e.id))]}),(0,n.jsxs)("div",{className:"d-grid gap-2",children:[(0,n.jsxs)("button",{className:"btn btn-outline-light btn-sm rounded-pill",onClick:()=>{confirm("Are you sure you want to clear all chat history? This cannot be undone.")&&(h([]),localStorage.removeItem("ukg_chat_history"),C())},children:[(0,n.jsx)("i",{className:"bi bi-trash me-2"})," Clear history"]}),(0,n.jsxs)("button",{className:"btn btn-outline-light btn-sm rounded-pill",children:[(0,n.jsx)("i",{className:"bi bi-cloud-download me-2"})," Export transcript"]})]})]}),(0,n.jsxs)("section",{className:"chat-window",children:[(0,n.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-wrap gap-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"section-title mb-1",children:"Streaming chat"}),(0,n.jsx)("h5",{className:"mb-0 text-white",children:p})]}),(0,n.jsx)("div",{className:"d-flex gap-2 flex-wrap",children:v.map(e=>(0,n.jsxs)("span",{className:"badge bg-".concat(e.tone," bg-opacity-25 text-").concat(e.tone),children:[e.label,": ",e.value]},e.label))})]}),(0,n.jsxs)("div",{className:"d-flex gap-2 flex-wrap mb-2",children:[(0,n.jsxs)("span",{className:"action-chip",children:[(0,n.jsx)("i",{className:"bi bi-mic me-2"}),"Voice input"]}),(0,n.jsxs)("span",{className:"action-chip",children:[(0,n.jsx)("i",{className:"bi bi-paperclip me-2"}),"Attachments"]}),(0,n.jsxs)("span",{className:"action-chip",children:[(0,n.jsx)("i",{className:"bi bi-diagram-3 me-2"}),"Graph context"]}),(0,n.jsxs)("span",{className:"action-chip",children:[(0,n.jsx)("i",{className:"bi bi-shield-lock me-2"}),"Audit trail"]})]}),(0,n.jsxs)("div",{className:"flex-grow-1 overflow-auto",style:{minHeight:"320px"},children:[0===e.length?(0,n.jsxs)("div",{className:"glass-border p-4 text-center",children:[(0,n.jsx)("h4",{className:"text-white",children:"Welcome to the UKG Chat System"}),(0,n.jsx)("p",{className:"text-white-50",children:"Pick a persona mix, provide a prompt, or jump into a knowledge graph query."}),(0,n.jsx)("div",{className:"d-flex gap-2 flex-wrap justify-content-center",children:N.map(e=>(0,n.jsx)("button",{className:"btn btn-outline-light btn-sm rounded-pill",onClick:()=>o(e),children:e},e))})]}):e.map(e=>(0,n.jsx)("div",{className:"message-bubble ".concat(e.type," mb-2"),children:(0,n.jsxs)("div",{className:"d-flex align-items-start gap-2",children:[(0,n.jsx)("div",{className:"avatar bg-primary bg-opacity-25 rounded-circle d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px"},children:(0,n.jsx)("i",{className:"bi ".concat("user"===e.type?"bi-person":"bi-robot")})}),(0,n.jsxs)("div",{className:"flex-grow-1",children:[(0,n.jsx)("div",{className:"markdown-content",dangerouslySetInnerHTML:{__html:r.TU.parse(e.content)}}),e.confidence&&(0,n.jsxs)("small",{className:"text-white-50",children:["Confidence: ",e.confidence]})]})]})},e.id)),u&&(0,n.jsx)("div",{className:"message-bubble system mb-2",children:(0,n.jsxs)("div",{className:"typing-indicator",children:[(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{})]})}),(0,n.jsx)("div",{ref:y})]}),(0,n.jsxs)("div",{className:"glass-border p-3 input-rail",children:[(0,n.jsxs)("div",{className:"d-flex gap-2 align-items-center mb-2 flex-wrap",children:[(0,n.jsx)("span",{className:"badge bg-secondary",children:"Cmd/Ctrl + K: Command palette"}),(0,n.jsx)("span",{className:"badge bg-secondary",children:"Shift + Enter: New line"}),(0,n.jsx)("span",{className:"badge bg-secondary",children:"Streaming on"})]}),(0,n.jsxs)("div",{className:"position-relative",children:[(0,n.jsx)("textarea",{className:"form-control bg-dark text-white",placeholder:"Ask a question, paste context, or use /commands...",rows:"2",value:i,onChange:e=>{o(e.target.value)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),k())},ref:w}),i&&(0,n.jsx)("button",{className:"btn btn-sm btn-link position-absolute top-0 end-0 text-secondary",type:"button",onClick:()=>o(""),style:{zIndex:5},children:(0,n.jsx)("i",{className:"bi bi-x-circle"})})]}),(0,n.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3 flex-wrap gap-2",children:[(0,n.jsxs)("div",{className:"d-flex gap-2 flex-wrap",children:[(0,n.jsxs)("button",{className:"btn btn-outline-light btn-sm rounded-pill",children:[(0,n.jsx)("i",{className:"bi bi-upload"})," Upload"]}),(0,n.jsxs)("button",{className:"btn btn-outline-light btn-sm rounded-pill",children:[(0,n.jsx)("i",{className:"bi bi-mic"})," Voice"]}),(0,n.jsxs)("button",{className:"btn btn-outline-light btn-sm rounded-pill",children:[(0,n.jsx)("i",{className:"bi bi-braces"})," Code"]})]}),(0,n.jsxs)("div",{className:"d-flex gap-2",children:[(0,n.jsx)("button",{className:"btn btn-outline-light rounded-pill",onClick:C,children:"New chat"}),(0,n.jsx)("button",{className:"btn btn-primary rounded-pill",type:"button",onClick:k,disabled:!i.trim()||u,children:u?"Streamingâ€¦":"Send"})]})]})]})]}),(0,n.jsxs)("aside",{className:"context-panel p-3 d-flex flex-column gap-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"section-title mb-1",children:"Context"}),(0,n.jsx)("h6",{className:"mb-2",children:"Personas"}),(0,n.jsx)("div",{className:"d-grid gap-2",children:[{id:"ke",label:"Knowledge Expert",icon:"book"},{id:"se",label:"Skill Expert",icon:"tools"},{id:"re",label:"Role Expert",icon:"person-badge"},{id:"ce",label:"Context Expert",icon:"geo-alt"}].map(e=>(0,n.jsxs)("label",{className:"d-flex align-items-center justify-content-between glass-border p-2",children:[(0,n.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,n.jsx)("i",{className:"bi bi-".concat(e.icon)}),e.label]}),(0,n.jsx)("div",{className:"form-check form-switch m-0",children:(0,n.jsx)("input",{className:"form-check-input",type:"checkbox",checked:f.personas[e.id],onChange:s=>j({...f,personas:{...f.personas,[e.id]:s.target.checked}})})})]},e.id))})]}),(0,n.jsxs)("div",{className:"glass-border p-3",children:[(0,n.jsx)("p",{className:"section-title mb-1",children:"Telemetry"}),(0,n.jsxs)("div",{className:"d-grid gap-2",children:[(0,n.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,n.jsx)("span",{children:"Confidence target"}),(0,n.jsx)("strong",{children:f.confidenceThreshold})]}),(0,n.jsx)("input",{type:"range",className:"form-range",min:"0.6",max:"0.95",step:"0.05",value:f.confidenceThreshold,onChange:e=>j({...f,confidenceThreshold:parseFloat(e.target.value)})}),(0,n.jsxs)("div",{className:"form-check form-switch",children:[(0,n.jsx)("input",{className:"form-check-input",type:"checkbox",id:"enable-location-context",checked:f.enableLocationContext,onChange:e=>j({...f,enableLocationContext:e.target.checked})}),(0,n.jsx)("label",{className:"form-check-label",htmlFor:"enable-location-context",children:"Location context"})]}),(0,n.jsxs)("div",{className:"form-check form-switch",children:[(0,n.jsx)("input",{className:"form-check-input",type:"checkbox",id:"enable-research-agents",checked:f.enableResearchAgents,onChange:e=>j({...f,enableResearchAgents:e.target.checked})}),(0,n.jsx)("label",{className:"form-check-label",htmlFor:"enable-research-agents",children:"Research agents"})]})]})]}),(0,n.jsxs)("div",{className:"glass-border p-3",children:[(0,n.jsx)("p",{className:"section-title mb-1",children:"Recent prompts"}),(0,n.jsx)("ul",{className:"list-unstyled mb-0",children:N.slice(0,3).map(e=>(0,n.jsxs)("li",{className:"mb-2 small",children:[(0,n.jsx)("i",{className:"bi bi-lightning-charge me-2 text-primary"}),e]},e))})]}),(0,n.jsxs)("div",{className:"glass-border p-3",children:[(0,n.jsx)("p",{className:"section-title mb-1",children:"Actions"}),(0,n.jsxs)("div",{className:"d-grid gap-2",children:[(0,n.jsxs)("button",{className:"btn btn-outline-light btn-sm rounded-pill",children:[(0,n.jsx)("i",{className:"bi bi-shield-check me-2"}),"Compliance scan"]}),(0,n.jsxs)("button",{className:"btn btn-outline-light btn-sm rounded-pill",children:[(0,n.jsx)("i",{className:"bi bi-diagram-2 me-2"}),"Open knowledge graph"]}),(0,n.jsxs)("button",{className:"btn btn-outline-light btn-sm rounded-pill",children:[(0,n.jsx)("i",{className:"bi bi-file-earmark-text me-2"}),"Generate report"]})]})]})]})]})]})}}},function(e){e.O(0,[198,117,164,888,774,179],function(){return e(e.s=7722)}),_N_E=e.O()}]);