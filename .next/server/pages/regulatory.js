"use strict";(()=>{var e={};e.id=335,e.ids=[335],e.modules={6426:(e,s,a)=>{a.r(s),a.d(s,{config:()=>w,default:()=>g,getServerSideProps:()=>N,getStaticPaths:()=>p,getStaticProps:()=>f,reportWebVitals:()=>y,routeModule:()=>Z,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>q,unstable_getStaticParams:()=>_,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>k});var r={};a.r(r),a.d(r,{default:()=>b});var t=a(7093),l=a(5244),i=a(1323),n=a(5949),c=a(3414),d=a(997),m=a(6689),o=a(968),u=a.n(o),x=a(1398),h=a(1873);let j=({frameworkUid:e,onNodeClick:s})=>{let a;let[r,t]=(0,m.useState)(null),[l,i]=(0,m.useState)(!1),[n,c]=(0,m.useState)(null),[o,u]=(0,m.useState)({});(0,m.useEffect)(()=>{e&&x()},[e]);let x=async()=>{if(e){i(!0),c(null);try{let s=await fetch(`/api/regulatory/octopus/${e}`);if(!s.ok)throw Error(`Failed to fetch octopus data: ${s.statusText}`);let a=await s.json();"success"===a.status?t(a.octopus):c(a.message||"Failed to load regulatory octopus data")}catch(e){c(e.message||"An error occurred while fetching the octopus data")}finally{i(!1)}}},j=(e,s)=>{u(s=>({...s,[e]:!s[e]}))},b=e=>{s&&s(e)};if(l)return d.jsx("div",{className:"text-center p-4",children:d.jsx("div",{className:"spinner-border",role:"status"})});if(n)return d.jsx("div",{className:"alert alert-danger",children:n});if(!r)return d.jsx("div",{className:"text-center p-4",children:"No data available. Select a regulatory framework."});let g=(e,s)=>e&&0!==Object.keys(e).length?d.jsx("ul",{className:"list-group mt-2",children:Object.entries(e).map(([e,s])=>d.jsx("li",{className:"list-group-item list-group-item-action d-flex justify-content-between align-items-center",onClick:()=>b(s.requirement),children:(0,d.jsxs)("div",{children:[d.jsx("div",{className:"fw-bold",children:s.requirement.label}),d.jsx("div",{className:"small text-muted",children:s.requirement.description}),s.requirement.criticality&&d.jsx("span",{className:`badge bg-${"high"===s.requirement.criticality?"danger":"medium"===s.requirement.criticality?"warning":"info"} me-1`,children:s.requirement.criticality})]})},e))}):d.jsx("div",{className:"text-muted",children:"No requirements defined"}),f=(e,s)=>e&&0!==Object.keys(e).length?d.jsx("div",{className:"ms-3 mt-2",children:Object.entries(e).map(([e,s])=>{let a=!0===o[e];return(0,d.jsxs)(h.Zb,{className:"mb-2 border-info",children:[d.jsx(h.Zb.Header,{className:"bg-light",children:(0,d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",onClick:()=>j(e,"small"),style:{cursor:"pointer"},children:[d.jsx("div",{children:(0,d.jsxs)("span",{className:"text-primary",children:[d.jsx("i",{className:"bi bi-file-text me-2"}),s.framework.label]})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("span",{className:"badge bg-info me-1",children:[Object.keys(s.granular_requirements||{}).length," Reqs"]}),d.jsx("button",{className:"btn btn-sm btn-outline-secondary",children:d.jsx("i",{className:`bi bi-chevron-${a?"up":"down"}`})})]})]})}),a&&(0,d.jsxs)(h.Zb.Body,{children:[d.jsx("small",{className:"text-muted d-block mb-2",children:s.framework.description}),d.jsx("h6",{className:"mt-3",children:"Granular Requirements"}),g(s.granular_requirements,e)]})]},e)})}):d.jsx("div",{className:"text-muted",children:"No small frameworks defined"}),p=(e,s)=>e&&0!==Object.keys(e).length?d.jsx("div",{className:"ms-3 mt-2",children:Object.entries(e).map(([e,s])=>{let a=!0===o[e];return(0,d.jsxs)(h.Zb,{className:"mb-3 border-primary",children:[d.jsx(h.Zb.Header,{className:"bg-light",children:(0,d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",onClick:()=>j(e,"medium"),style:{cursor:"pointer"},children:[d.jsx("div",{children:(0,d.jsxs)("span",{className:"text-primary",children:[d.jsx("i",{className:"bi bi-journal-text me-2"}),s.framework.label]})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("span",{className:"badge bg-primary me-1",children:[Object.keys(s.small_frameworks||{}).length," Small"]}),d.jsx("button",{className:"btn btn-sm btn-outline-secondary",children:d.jsx("i",{className:`bi bi-chevron-${a?"up":"down"}`})})]})]})}),a&&(0,d.jsxs)(h.Zb.Body,{children:[d.jsx("small",{className:"text-muted d-block mb-2",children:s.framework.description}),d.jsx("h6",{className:"mt-3",children:"Small Frameworks"}),f(s.small_frameworks,e)]})]},e)})}):d.jsx("div",{className:"text-muted",children:"No medium frameworks defined"});return(0,d.jsxs)("div",{className:"regulatory-octopus",children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("h3",{className:"mb-3",children:[d.jsx("i",{className:"bi bi-diagram-3 me-2"}),r.mega_framework.label]}),d.jsx("p",{className:"text-muted",children:r.mega_framework.description}),(0,d.jsxs)("div",{className:"d-flex mb-3",children:[r.mega_framework.framework_type&&(0,d.jsxs)("span",{className:"badge bg-dark me-2",children:["Type: ",r.mega_framework.framework_type]}),r.mega_framework.issuing_authority&&(0,d.jsxs)("span",{className:"badge bg-dark me-2",children:["Authority: ",r.mega_framework.issuing_authority]}),r.mega_framework.effective_date&&(0,d.jsxs)("span",{className:"badge bg-dark",children:["Effective: ",new Date(r.mega_framework.effective_date).toLocaleDateString()]})]})]}),(0,d.jsxs)("h5",{className:"mb-3",children:[d.jsx("i",{className:"bi bi-diagram-2 me-2"}),"Large Frameworks"]}),(a=r.large_frameworks)&&0!==Object.keys(a).length?d.jsx("div",{className:"mt-3",children:Object.entries(a).map(([e,s])=>{let a=!0===o[e];return(0,d.jsxs)(h.Zb,{className:"mb-4 border-secondary",children:[d.jsx(h.Zb.Header,{className:"bg-light",children:(0,d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",onClick:()=>j(e,"large"),style:{cursor:"pointer"},children:[d.jsx("div",{children:(0,d.jsxs)("span",{className:"text-secondary",children:[d.jsx("i",{className:"bi bi-journal-album me-2"}),s.framework.label]})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("span",{className:"badge bg-secondary me-1",children:[Object.keys(s.medium_frameworks||{}).length," Medium"]}),d.jsx("button",{className:"btn btn-sm btn-outline-secondary",children:d.jsx("i",{className:`bi bi-chevron-${a?"up":"down"}`})})]})]})}),a&&(0,d.jsxs)(h.Zb.Body,{children:[(0,d.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,d.jsxs)("div",{children:[d.jsx("small",{className:"text-muted d-block",children:s.framework.description}),s.framework.issuing_authority&&d.jsx("span",{className:"badge bg-light text-dark me-1",children:s.framework.issuing_authority}),s.framework.effective_date&&(0,d.jsxs)("span",{className:"badge bg-light text-dark",children:["Effective: ",new Date(s.framework.effective_date).toLocaleDateString()]})]}),d.jsx("div",{children:d.jsx(h.zx,{size:"sm",variant:"outline-primary",onClick:()=>b(s.framework),children:"View Details"})})]}),d.jsx("h6",{className:"mt-3",children:"Medium Frameworks"}),p(s.medium_frameworks,e)]})]},e)})}):d.jsx("div",{className:"text-muted",children:"No large frameworks defined"})]})};function b(){let[e,s]=(0,m.useState)([]),[a,r]=(0,m.useState)(""),[t,l]=(0,m.useState)(!1),[i,n]=(0,m.useState)(null),[c,o]=(0,m.useState)(null),b=async()=>{l(!0),n(null);try{let e=await fetch("/api/regulatory/frameworks?node_level=mega");if(!e.ok)throw Error(`Failed to fetch frameworks: ${e.statusText}`);let a=await e.json();"success"===a.status?(s(a.frameworks||[]),a.frameworks&&a.frameworks.length>0&&r(a.frameworks[0].uid)):n(a.message||"Failed to load regulatory frameworks")}catch(e){n(e.message||"An error occurred while fetching the frameworks")}finally{l(!1)}};return(0,d.jsxs)(x.Z,{children:[d.jsx(u(),{children:d.jsx("title",{children:"Regulatory Frameworks - UKG"})}),(0,d.jsxs)("div",{className:"container my-4",children:[d.jsx("h1",{className:"mb-4",children:"Regulatory Frameworks"}),d.jsx("p",{className:"lead mb-4",children:"The Regulatory Framework axis (Axis 6) manages regulatory frameworks, compliance requirements, and legal structures with an octopus-style branch mapping."}),(0,d.jsxs)("div",{className:"row mb-4",children:[(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsxs)(h.Zb,{children:[d.jsx(h.Zb.Header,{children:d.jsx(h.Zb.Title,{children:"Select Framework"})}),(0,d.jsxs)(h.Zb.Body,{children:[t&&d.jsx("div",{className:"text-center",children:d.jsx("div",{className:"spinner-border",role:"status"})}),i&&d.jsx("div",{className:"alert alert-danger",children:i}),!t&&!i&&(0,d.jsxs)("div",{className:"mb-3",children:[d.jsx("label",{className:"form-label",children:"Mega Framework"}),(0,d.jsxs)("select",{className:"form-select",value:a,onChange:e=>{r(e.target.value),o(null)},children:[0===e.length&&d.jsx("option",{value:"",children:"No frameworks available"}),e.map(e=>d.jsx("option",{value:e.uid,children:e.label},e.uid))]})]}),d.jsx("div",{className:"d-grid gap-2",children:d.jsx(h.zx,{variant:"primary",onClick:b,children:"Refresh Frameworks"})})]})]}),c&&(0,d.jsxs)(h.Zb,{className:"mt-3",children:[d.jsx(h.Zb.Header,{className:"bg-info text-white",children:(0,d.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[d.jsx(h.Zb.Title,{className:"mb-0",children:"Node Details"}),d.jsx(h.zx,{variant:"close",onClick:()=>{o(null)}})]})}),(0,d.jsxs)(h.Zb.Body,{children:[d.jsx("h5",{children:c.label}),d.jsx("p",{className:"text-muted",children:c.description}),(0,d.jsxs)("div",{className:"mt-3",children:[d.jsx("h6",{children:"Properties:"}),(0,d.jsxs)("ul",{className:"list-group",children:[c.node_level&&(0,d.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[d.jsx("span",{children:"Level:"}),d.jsx("span",{className:"badge bg-primary",children:c.node_level})]}),c.framework_type&&(0,d.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[d.jsx("span",{children:"Type:"}),d.jsx("span",{children:c.framework_type})]}),c.issuing_authority&&(0,d.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[d.jsx("span",{children:"Authority:"}),d.jsx("span",{children:c.issuing_authority})]}),c.effective_date&&(0,d.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[d.jsx("span",{children:"Effective Date:"}),d.jsx("span",{children:new Date(c.effective_date).toLocaleDateString()})]}),c.criticality&&(0,d.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[d.jsx("span",{children:"Criticality:"}),d.jsx("span",{className:`badge bg-${"high"===c.criticality?"danger":"medium"===c.criticality?"warning":"info"}`,children:c.criticality})]})]})]})]})]})]}),d.jsx("div",{className:"col-md-8",children:(0,d.jsxs)(h.Zb,{children:[d.jsx(h.Zb.Header,{children:d.jsx(h.Zb.Title,{children:"Octopus Structure"})}),d.jsx(h.Zb.Body,{children:a?d.jsx(j,{frameworkUid:a,onNodeClick:e=>{o(e)}}):d.jsx("div",{className:"text-center p-4",children:"Please select a regulatory framework"})})]})})]})]})]})}let g=(0,i.l)(r,"default"),f=(0,i.l)(r,"getStaticProps"),p=(0,i.l)(r,"getStaticPaths"),N=(0,i.l)(r,"getServerSideProps"),w=(0,i.l)(r,"config"),y=(0,i.l)(r,"reportWebVitals"),k=(0,i.l)(r,"unstable_getStaticProps"),v=(0,i.l)(r,"unstable_getStaticPaths"),_=(0,i.l)(r,"unstable_getStaticParams"),S=(0,i.l)(r,"unstable_getServerProps"),q=(0,i.l)(r,"unstable_getServerSideProps"),Z=new t.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/regulatory",pathname:"/regulatory",bundlePath:"",filename:""},components:{App:c.default,Document:n.default},userland:r})},7143:e=>{e.exports=require("@fluentui/react-components")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")}};var s=require("../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[859,855,26],()=>a(6426));module.exports=r})();