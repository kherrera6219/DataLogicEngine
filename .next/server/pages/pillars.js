(()=>{var e={};e.id=123,e.ids=[123,660],e.modules={9424:(e,a,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{config:()=>u,default:()=>x,getServerSideProps:()=>h,getStaticPaths:()=>p,getStaticProps:()=>m,reportWebVitals:()=>b,routeModule:()=>N,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>g,unstable_getStaticProps:()=>f});var s=t(7093),i=t(5244),l=t(1323),n=t(5949),o=t(3414),d=t(611),c=e([d]);d=(c.then?(await c)():c)[0];let x=(0,l.l)(d,"default"),m=(0,l.l)(d,"getStaticProps"),p=(0,l.l)(d,"getStaticPaths"),h=(0,l.l)(d,"getServerSideProps"),u=(0,l.l)(d,"config"),b=(0,l.l)(d,"reportWebVitals"),f=(0,l.l)(d,"unstable_getStaticProps"),g=(0,l.l)(d,"unstable_getStaticPaths"),j=(0,l.l)(d,"unstable_getStaticParams"),v=(0,l.l)(d,"unstable_getServerProps"),y=(0,l.l)(d,"unstable_getServerSideProps"),N=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/pillars",pathname:"/pillars",bundlePath:"",filename:""},components:{App:o.default,Document:n.default},userland:d});r()}catch(e){r(e)}})},4905:(e,a,t)=>{"use strict";t.d(a,{Z:()=>m});var r=t(997),s=t(6689),i=t(7143),l=t(1664),n=t.n(l),o=t(1163);let d=(0,i.makeStyles)({navbar:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"var(--colorNeutralBackground1)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",...i.shorthands.padding("8px","16px"),height:"60px",width:"100%",position:"sticky",top:0,zIndex:100},brand:{display:"flex",alignItems:"center",gap:"12px",textDecoration:"none",color:"var(--colorBrandForeground1)",fontWeight:600},logo:{display:"flex",fontSize:"24px"},title:{fontSize:"18px","@media(max-width: 576px)":{display:"none"}},titleShort:{display:"none",fontSize:"18px","@media(max-width: 576px)":{display:"block"}},navItems:{display:"flex",alignItems:"center",gap:"8px","@media(max-width: 768px)":{display:"none"}},mobileMenu:{display:"none","@media(max-width: 768px)":{display:"block"}},navLink:{color:"var(--colorNeutralForeground1)",textDecoration:"none",...i.shorthands.padding("8px","12px"),borderRadius:"4px",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--colorNeutralBackground2)"}},activeNavLink:{backgroundColor:"var(--colorNeutralBackground2)",fontWeight:600}}),c=({navItems:e=[]})=>{let a=d(),t=(0,o.useRouter)(),[l,c]=(0,s.useState)(!1),x=e=>t.pathname===e;return(0,r.jsxs)("nav",{className:a.navbar,children:[(0,r.jsxs)(n(),{href:"/",className:a.brand,children:[r.jsx("span",{className:a.logo,children:r.jsx("i",{className:"bi bi-diagram-3"})}),r.jsx("span",{className:a.title,children:"Universal Knowledge Graph"}),r.jsx("span",{className:a.titleShort,children:"UKG"})]}),r.jsx("div",{className:a.navItems,children:e.map((e,t)=>r.jsx(i.Tooltip,{content:e.label,children:(0,r.jsxs)(n(),{href:e.href,className:`${a.navLink} ${x(e.href)?a.activeNavLink:""}`,children:[e.icon&&r.jsx("i",{className:`bi bi-${e.icon} me-2`}),e.label]})},t))}),r.jsx("div",{className:a.mobileMenu,children:(0,r.jsxs)(i.Menu,{children:[r.jsx(i.MenuTrigger,{disableButtonEnhancement:!0,children:r.jsx(i.Button,{icon:r.jsx("i",{className:"bi bi-list"}),iconOnly:!0,appearance:"subtle","aria-label":"Menu"})}),r.jsx(i.MenuPopover,{children:r.jsx(i.MenuList,{children:e.map((e,a)=>r.jsx(i.MenuItem,{onClick:()=>t.push(e.href),icon:r.jsx("i",{className:`bi bi-${e.icon}`}),children:e.label},a))})})]})})]})};c.defaultProps={navItems:[{href:"/",label:"Home",icon:"house"},{href:"/axis1",label:"Axis 1",icon:"1-circle"},{href:"/axis2",label:"Axis 2",icon:"2-circle"},{href:"/axis3",label:"Axis 3",icon:"3-circle"},{href:"/axis4",label:"Axis 4",icon:"4-circle"},{href:"/axis5",label:"Axis 5",icon:"5-circle"},{href:"/axis6",label:"Axis 6",icon:"gear"},{href:"/compliance",label:"Compliance",icon:"check-circle"},{href:"/locations",label:"Locations",icon:"geo-alt"},{href:"/contextual",label:"Context Experts",icon:"person"},{href:"/timeline",label:"Timeline",icon:"clock-history"},{href:"/unified-mapping",label:"Unified Mapping",icon:"geo"},{href:"/compliance-dashboard",label:"SOC 2 Compliance",icon:"shield-check"}]};let x=(0,i.makeStyles)({container:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{flex:"1 0 auto",...i.shorthands.padding("24px","0"),width:"100%",maxWidth:"100%",overflowX:"hidden"},mainContent:{maxWidth:"1400px",marginLeft:"auto",marginRight:"auto",...i.shorthands.padding("0","16px"),"@media(min-width: 576px)":{...i.shorthands.padding("0","24px")}},footer:{backgroundColor:"var(--colorNeutralBackground2)",color:"var(--colorNeutralForeground2)",...i.shorthands.padding("16px","0"),marginTop:"32px"},footerContent:{maxWidth:"1400px",marginLeft:"auto",marginRight:"auto",...i.shorthands.padding("0","16px"),"@media(min-width: 576px)":{...i.shorthands.padding("0","24px")}},footerRow:{display:"flex",flexDirection:"column","@media(min-width: 768px)":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},footerCopyright:{textAlign:"center",marginBottom:"16px","@media(min-width: 768px)":{textAlign:"left",marginBottom:"0"}},socialLinks:{display:"flex",justifyContent:"center",gap:"24px","@media(min-width: 768px)":{justifyContent:"flex-end"}},socialLink:{color:"var(--colorNeutralForeground2)",fontSize:"20px",transition:"color 0.2s",":hover":{color:"var(--colorBrandForeground1)"}}});function m({children:e,className:a}){let t=x();return(0,o.useRouter)(),(0,r.jsxs)("div",{className:t.container,children:[r.jsx(c,{navItems:[{label:"Home",href:"/",icon:"house-door"},{label:"Chat",href:"/chat",icon:"chat-dots"},{label:"About",href:"#about",icon:"info-circle"}]}),r.jsx("main",{className:(0,i.mergeClasses)(t.main,a),children:r.jsx("div",{className:t.mainContent,children:e})}),r.jsx("footer",{className:t.footer,children:r.jsx("div",{className:t.footerContent,children:(0,r.jsxs)("div",{className:t.footerRow,children:[r.jsx("div",{className:t.footerCopyright,children:(0,r.jsxs)(i.Text,{size:200,children:["Universal Knowledge Graph System \xa9 ",new Date().getFullYear()]})}),(0,r.jsxs)("div",{className:t.socialLinks,children:[r.jsx("a",{href:"#",className:t.socialLink,"aria-label":"GitHub",children:r.jsx("i",{className:"bi bi-github"})}),r.jsx("a",{href:"#",className:t.socialLink,"aria-label":"Twitter",children:r.jsx("i",{className:"bi bi-twitter"})}),r.jsx("a",{href:"#",className:t.socialLink,"aria-label":"LinkedIn",children:r.jsx("i",{className:"bi bi-linkedin"})})]})]})})})]})}},5605:(e,a,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.d(a,{Z:()=>d});var s=t(997),i=t(6689),l=t(8201),n=t(2210),o=e([n]);function d({initialPillarId:e}){let[a,t]=(0,i.useState)([]),[r,o]=(0,i.useState)(e||""),[d,c]=(0,i.useState)(null),[x,m]=(0,i.useState)(""),[p,h]=(0,i.useState)(!1),[u,b]=(0,i.useState)([]);(0,n.useToast)();let f=async(e,a=null)=>{if(e){h(!0);try{let t=await fetch(`/api/pillars/${e}/expand`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({context_text:a})});if(t.ok){let a=await t.json();c(a),g(e)}else{let e=await t.json();showToast({title:"Error",description:e.error||"Failed to expand pillar",status:"error",duration:5e3})}}catch(e){console.error("Error expanding pillar:",e),showToast({title:"Error",description:"An unexpected error occurred",status:"error",duration:5e3})}finally{h(!1)}}},g=async e=>{try{let a=await fetch(`/api/pillars/mappings?pillar_id=${e}`);if(a.ok){let e=await a.json();b(e)}}catch(e){console.error("Error fetching mappings:",e)}},j=e=>{o(e),m(""),c(null),e&&f(e)},v=async(e,a,t)=>{try{let s=await fetch("/api/pillars/mappings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source_pillar_id:r,source_sublevel_id:e,target_pillar_id:a,target_sublevel_id:t,mapping_type:"related_to",strength:.7,bidirectional:!0})});if(s.ok)showToast({title:"Success",description:"Mapping created successfully",status:"success",duration:3e3}),g(r);else{let e=await s.json();showToast({title:"Error",description:e.error||"Failed to create mapping",status:"error",duration:5e3})}}catch(e){console.error("Error creating mapping:",e),showToast({title:"Error",description:"An unexpected error occurred",status:"error",duration:5e3})}},y=(e,a=0)=>e&&Array.isArray(e)&&0!==e.length?s.jsx("div",{children:e.map(e=>(0,s.jsxs)("div",{style:{marginLeft:`${20*a}px`,marginBottom:"8px"},children:[(0,s.jsxs)("div",{className:"d-flex align-items-center",children:[s.jsx(l.Ct,{color:0===a?"primary":1===a?"info":"secondary",children:e.id}),s.jsx(l.xv,{ml:2,fontWeight:0===a?"bold":"normal",children:e.label||e.name}),d&&d.related_pillars&&d.related_pillars.length>0&&s.jsx(l.Lt,{className:"ms-auto",title:"Map to...",variant:"outline-secondary",size:"sm",children:d.related_pillars.map(a=>(0,s.jsxs)("div",{className:"dropdown-item",children:[s.jsx("strong",{children:a.pillar_id}),a.mappings&&a.mappings.map(t=>(0,s.jsxs)(l.zx,{size:"sm",variant:"link",className:"d-block text-start",onClick:()=>v(e.id,a.pillar_id,t.target_sublevel),children:["Map to ",t.target_sublevel]},`${t.target_sublevel}`))]},a.pillar_id))})]}),e.description&&s.jsx(l.xv,{fontSize:"sm",color:"gray.600",ml:3,children:e.description}),e.sublevels&&y(e.sublevels,a+1)]},e.id))}):s.jsx(l.xv,{color:"gray.500",ml:4*a,children:"No sublevels defined"});return s.jsx("div",{children:(0,s.jsxs)(l.Zb,{className:"mb-4",children:[s.jsx(l.Zb.Header,{children:s.jsx(l.Zb.Title,{children:"Knowledge Pillar Dynamic Mapping"})}),(0,s.jsxs)(l.Zb.Body,{children:[(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx(l.__,{htmlFor:"pillarSelect",children:"Select Pillar Level:"}),s.jsx(l.Lt,{title:r||"Select a Pillar",id:"pillarSelect",children:a.map(e=>(0,s.jsxs)(l.Lt.Item,{onClick:()=>j(e.id),children:[e.id,": ",e.label||e.name]},e.id))})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx(l.__,{htmlFor:"contextText",children:"Context for Expansion:"}),s.jsx(l.gx,{id:"contextText",value:x,onChange:e=>m(e.target.value),placeholder:"Enter text to provide context for dynamic mapping expansion...",rows:4}),s.jsx("div",{className:"mt-2",children:s.jsx(l.zx,{onClick:()=>{r?f(r,x):showToast({title:"Warning",description:"Please select a pillar first",status:"warning",duration:3e3})},disabled:!r||p,isLoading:p,children:d?"Re-expand with Context":"Expand with Context"})})]}),d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h4",{className:"mb-3",children:["Pillar Structure: ",d.pillar_name," (",d.pillar_id,")"]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("h5",{children:"Base Sublevels"}),y(d.base_sublevels)]}),d.expanded_sublevels&&d.expanded_sublevels.length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("h5",{children:"Expanded Sublevels"}),y(d.expanded_sublevels)]}),d.related_pillars&&d.related_pillars.length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("h5",{children:"Related Pillars"}),s.jsx("div",{className:"row",children:d.related_pillars.map(e=>s.jsx("div",{className:"col-md-6 mb-3",children:s.jsx(l.Zb,{children:(0,s.jsxs)(l.Zb.Body,{children:[(0,s.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[s.jsx("h6",{className:"mb-0",children:e.pillar_id}),s.jsx(l.Ct,{className:"ms-2",color:e.suggested?"warning":"success",children:e.suggested?"Suggested":"Mapped"}),(0,s.jsxs)(l.xv,{className:"ms-auto",children:["Strength: ",e.strength.toFixed(2)]})]}),e.mappings&&e.mappings.length>0&&(0,s.jsxs)("div",{children:[s.jsx(l.xv,{fontSize:"sm",fontWeight:"bold",children:"Existing Mappings:"}),s.jsx("ul",{className:"list-unstyled ms-3",children:e.mappings.map((e,a)=>s.jsx("li",{children:(0,s.jsxs)(l.xv,{fontSize:"sm",children:[e.source_sublevel||"source"," â†’ ",e.target_sublevel||"target",e.mapping_type&&` (${e.mapping_type})`]})},a))})]}),e.reason&&s.jsx(l.xv,{fontSize:"sm",fontStyle:"italic",color:"gray.500",mt:1,children:e.reason})]})})},e.pillar_id))})]}),u&&u.length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("h5",{children:"All Dynamic Mappings"}),s.jsx("div",{className:"table-responsive",children:(0,s.jsxs)("table",{className:"table table-sm",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{children:[s.jsx("th",{children:"Source"}),s.jsx("th",{children:"Target"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Strength"})]})}),s.jsx("tbody",{children:u.map((e,a)=>(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{children:[e.source.pillar_id,".",e.source.sublevel_id]}),(0,s.jsxs)("td",{children:[e.target.pillar_id,".",e.target.sublevel_id]}),s.jsx("td",{children:e.mapping_type}),s.jsx("td",{children:e.strength.toFixed(2)})]},a))})]})})]})]})]})]})})}n=(o.then?(await o)():o)[0],r()}catch(e){r(e)}})},8201:()=>{throw Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError: \n  \x1b[31mx\x1b[0m the name `Card` is exported multiple times\n    ,-[\x1b[36;1;4m/home/runner/workspace/components/ui/index.js\x1b[0m:1:1]\n \x1b[2m 1\x1b[0m | \n \x1b[2m 2\x1b[0m | // UI Components library based on Fluent UI\n \x1b[2m 3\x1b[0m | export { default as Button } from './Button';\n \x1b[2m 4\x1b[0m | export { default as Card } from './Card';\n    : \x1b[31;1m                    ^^|^\x1b[0m\n    :                       \x1b[31;1m`-- \x1b[31;1mprevious exported here\x1b[0m\x1b[0m\n \x1b[2m 5\x1b[0m | export { default as Input } from './Input';\n \x1b[2m 6\x1b[0m | export { default as Navbar } from './Navbar';\n \x1b[2m 7\x1b[0m | export { default as Sidebar } from './Sidebar';\n \x1b[2m 8\x1b[0m | export { default as ChatMessage } from './ChatMessage';\n \x1b[2m 9\x1b[0m | export { default as Avatar } from './Avatar';\n \x1b[2m10\x1b[0m | export { default as Badge } from './Badge';\n \x1b[2m11\x1b[0m | export { default as Text } from './Text';\n \x1b[2m12\x1b[0m | export { default as Label } from './Label';\n \x1b[2m13\x1b[0m | export { default as Textarea } from './Textarea';\n \x1b[2m14\x1b[0m | export { default as Dropdown } from './Dropdown';\n \x1b[2m15\x1b[0m | export { default as Card } from './Card';\n    : \x1b[33;1m                    ^^|^\x1b[0m\n    :                       \x1b[33;1m`-- \x1b[33;1mexported more than once\x1b[0m\x1b[0m\n \x1b[2m16\x1b[0m | export { default as Button } from './Button';\n    `----\n\nError: \n  \x1b[36m>\x1b[0m Exported identifiers must be unique\n\n  \x1b[31mx\x1b[0m the name `Button` is exported multiple times\n    ,-[\x1b[36;1;4m/home/runner/workspace/components/ui/index.js\x1b[0m:1:1]\n \x1b[2m 1\x1b[0m | \n \x1b[2m 2\x1b[0m | // UI Components library based on Fluent UI\n \x1b[2m 3\x1b[0m | export { default as Button } from './Button';\n    : \x1b[31;1m                    ^^^|^^\x1b[0m\n    :                        \x1b[31;1m`-- \x1b[31;1mprevious exported here\x1b[0m\x1b[0m\n \x1b[2m 4\x1b[0m | export { default as Card } from './Card';\n \x1b[2m 5\x1b[0m | export { default as Input } from './Input';\n \x1b[2m 6\x1b[0m | export { default as Navbar } from './Navbar';\n \x1b[2m 7\x1b[0m | export { default as Sidebar } from './Sidebar';\n \x1b[2m 8\x1b[0m | export { default as ChatMessage } from './ChatMessage';\n \x1b[2m 9\x1b[0m | export { default as Avatar } from './Avatar';\n \x1b[2m10\x1b[0m | export { default as Badge } from './Badge';\n \x1b[2m11\x1b[0m | export { default as Text } from './Text';\n \x1b[2m12\x1b[0m | export { default as Label } from './Label';\n \x1b[2m13\x1b[0m | export { default as Textarea } from './Textarea';\n \x1b[2m14\x1b[0m | export { default as Dropdown } from './Dropdown';\n \x1b[2m15\x1b[0m | export { default as Card } from './Card';\n \x1b[2m16\x1b[0m | export { default as Button } from './Button';\n    : \x1b[33;1m                    ^^^|^^\x1b[0m\n    :                        \x1b[33;1m`-- \x1b[33;1mexported more than once\x1b[0m\x1b[0m\n    `----\n\nError: \n  \x1b[36m>\x1b[0m Exported identifiers must be unique\n")},3414:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});var r=t(997);t(9090),t(3195),t(6764),t(9462),t(622),t(6689);let s=function({Component:e,pageProps:a}){return r.jsx(e,{...a})}},5949:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var r=t(997),s=t(6859);function i(){return(0,r.jsxs)(s.Html,{lang:"en","data-bs-theme":"dark",children:[r.jsx(s.Head,{children:r.jsx("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"})}),(0,r.jsxs)("body",{children:[r.jsx(s.Main,{}),r.jsx(s.NextScript,{})]})]})}},611:(e,a,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{default:()=>m});var s=t(997),i=t(6689),l=t(968),n=t.n(l),o=t(4905),d=t(5605),c=t(8201),x=e([d]);function m(){let[e,a]=(0,i.useState)([]),[t,r]=(0,i.useState)(!0),[l,x]=(0,i.useState)(null);return(0,s.jsxs)(o.Z,{children:[(0,s.jsxs)(n(),{children:[s.jsx("title",{children:"UKG - Knowledge Pillar System"}),s.jsx("meta",{name:"description",content:"Universal Knowledge Graph Pillar Level Management"})]}),s.jsx("div",{className:"container-fluid my-4",children:s.jsx("div",{className:"row",children:(0,s.jsxs)("div",{className:"col-12",children:[s.jsx("h1",{className:"mb-4",children:"Knowledge Pillar System (Axis 1)"}),l&&s.jsx("div",{className:"alert alert-danger",children:l}),t?s.jsx("div",{className:"d-flex justify-content-center my-5",children:s.jsx("div",{className:"spinner-border text-primary",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.Zb,{className:"mb-4",children:[s.jsx(c.Zb.Header,{children:s.jsx(c.Zb.Title,{children:"Pillar Levels Overview"})}),s.jsx(c.Zb.Body,{children:s.jsx("div",{className:"row",children:e.map(e=>s.jsx("div",{className:"col-md-4 col-sm-6 mb-3",children:s.jsx(c.Zb,{children:(0,s.jsxs)(c.Zb.Body,{children:[(0,s.jsxs)("div",{className:"d-flex justify-content-between",children:[s.jsx("h5",{className:"mb-1",children:e.id}),s.jsx(c.zx,{size:"sm",variant:"outline-primary",href:`/pillars?id=${e.id}`,children:"Map"})]}),s.jsx(c.xv,{fontWeight:"bold",children:e.label||e.name}),s.jsx(c.xv,{fontSize:"sm",children:e.description}),(0,s.jsxs)(c.xv,{fontSize:"xs",className:"text-muted mt-2",children:["Sublevels: ",e.sublevels&&Array.isArray(e.sublevels)?e.sublevels.length:Object.keys(e.sublevels||{}).length||0]})]})})},e.id))})})]}),(0,s.jsxs)("div",{className:"my-5",children:[s.jsx("h2",{className:"mb-4",children:"Dynamic Pillar Mapping Engine"}),s.jsx(d.Z,{initialPillarId:void 0})]})]})]})})})]})}d=(x.then?(await x)():x)[0],r()}catch(e){r(e)}})},9462:()=>{},6764:()=>{},622:()=>{},7143:e=>{"use strict";e.exports=require("@fluentui/react-components")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")},2210:e=>{"use strict";e.exports=import("@chakra-ui/react")}};var a=require("../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[859,855],()=>t(9424));module.exports=r})();