(()=>{var e={};e.id=180,e.ids=[180,660],e.modules={9975:(e,s,a)=>{"use strict";a.a(e,async(e,t)=>{try{a.r(s),a.d(s,{config:()=>b,default:()=>h,getServerSideProps:()=>p,getStaticPaths:()=>x,getStaticProps:()=>m,reportWebVitals:()=>u,routeModule:()=>k,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>g});var i=a(7093),n=a(5244),r=a(1323),l=a(5949),c=a(3414),o=a(6380),d=e([o]);o=(d.then?(await d)():d)[0];let h=(0,r.l)(o,"default"),m=(0,r.l)(o,"getStaticProps"),x=(0,r.l)(o,"getStaticPaths"),p=(0,r.l)(o,"getServerSideProps"),b=(0,r.l)(o,"config"),u=(0,r.l)(o,"reportWebVitals"),g=(0,r.l)(o,"unstable_getStaticProps"),j=(0,r.l)(o,"unstable_getStaticPaths"),f=(0,r.l)(o,"unstable_getStaticParams"),N=(0,r.l)(o,"unstable_getServerProps"),v=(0,r.l)(o,"unstable_getServerSideProps"),k=new i.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/chat",pathname:"/chat",bundlePath:"",filename:""},components:{App:c.default,Document:l.default},userland:o});t()}catch(e){t(e)}})},4905:(e,s,a)=>{"use strict";a.d(s,{Z:()=>m});var t=a(997),i=a(6689),n=a(7143),r=a(1664),l=a.n(r),c=a(1163);let o=(0,n.makeStyles)({navbar:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"var(--colorNeutralBackground1)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",...n.shorthands.padding("8px","16px"),height:"60px",width:"100%",position:"sticky",top:0,zIndex:100},brand:{display:"flex",alignItems:"center",gap:"12px",textDecoration:"none",color:"var(--colorBrandForeground1)",fontWeight:600},logo:{display:"flex",fontSize:"24px"},title:{fontSize:"18px","@media(max-width: 576px)":{display:"none"}},titleShort:{display:"none",fontSize:"18px","@media(max-width: 576px)":{display:"block"}},navItems:{display:"flex",alignItems:"center",gap:"8px","@media(max-width: 768px)":{display:"none"}},mobileMenu:{display:"none","@media(max-width: 768px)":{display:"block"}},navLink:{color:"var(--colorNeutralForeground1)",textDecoration:"none",...n.shorthands.padding("8px","12px"),borderRadius:"4px",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--colorNeutralBackground2)"}},activeNavLink:{backgroundColor:"var(--colorNeutralBackground2)",fontWeight:600}}),d=({navItems:e=[]})=>{let s=o(),a=(0,c.useRouter)(),[r,d]=(0,i.useState)(!1),h=e=>a.pathname===e;return(0,t.jsxs)("nav",{className:s.navbar,children:[(0,t.jsxs)(l(),{href:"/",className:s.brand,children:[t.jsx("span",{className:s.logo,children:t.jsx("i",{className:"bi bi-diagram-3"})}),t.jsx("span",{className:s.title,children:"Universal Knowledge Graph"}),t.jsx("span",{className:s.titleShort,children:"UKG"})]}),t.jsx("div",{className:s.navItems,children:e.map((e,a)=>t.jsx(n.Tooltip,{content:e.label,children:(0,t.jsxs)(l(),{href:e.href,className:`${s.navLink} ${h(e.href)?s.activeNavLink:""}`,children:[e.icon&&t.jsx("i",{className:`bi bi-${e.icon} me-2`}),e.label]})},a))}),t.jsx("div",{className:s.mobileMenu,children:(0,t.jsxs)(n.Menu,{children:[t.jsx(n.MenuTrigger,{disableButtonEnhancement:!0,children:t.jsx(n.Button,{icon:t.jsx("i",{className:"bi bi-list"}),iconOnly:!0,appearance:"subtle","aria-label":"Menu"})}),t.jsx(n.MenuPopover,{children:t.jsx(n.MenuList,{children:e.map((e,s)=>t.jsx(n.MenuItem,{onClick:()=>a.push(e.href),icon:t.jsx("i",{className:`bi bi-${e.icon}`}),children:e.label},s))})})]})})]})};d.defaultProps={navItems:[{href:"/",label:"Home",icon:"house"},{href:"/axis1",label:"Axis 1",icon:"1-circle"},{href:"/axis2",label:"Axis 2",icon:"2-circle"},{href:"/axis3",label:"Axis 3",icon:"3-circle"},{href:"/axis4",label:"Axis 4",icon:"4-circle"},{href:"/axis5",label:"Axis 5",icon:"5-circle"},{href:"/axis6",label:"Axis 6",icon:"gear"},{href:"/compliance",label:"Compliance",icon:"check-circle"},{href:"/locations",label:"Locations",icon:"geo-alt"},{href:"/contextual",label:"Context Experts",icon:"person"},{href:"/timeline",label:"Timeline",icon:"clock-history"},{href:"/unified-mapping",label:"Unified Mapping",icon:"geo"},{href:"/compliance-dashboard",label:"SOC 2 Compliance",icon:"shield-check"}]};let h=(0,n.makeStyles)({container:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{flex:"1 0 auto",...n.shorthands.padding("24px","0"),width:"100%",maxWidth:"100%",overflowX:"hidden"},mainContent:{maxWidth:"1400px",marginLeft:"auto",marginRight:"auto",...n.shorthands.padding("0","16px"),"@media(min-width: 576px)":{...n.shorthands.padding("0","24px")}},footer:{backgroundColor:"var(--colorNeutralBackground2)",color:"var(--colorNeutralForeground2)",...n.shorthands.padding("16px","0"),marginTop:"32px"},footerContent:{maxWidth:"1400px",marginLeft:"auto",marginRight:"auto",...n.shorthands.padding("0","16px"),"@media(min-width: 576px)":{...n.shorthands.padding("0","24px")}},footerRow:{display:"flex",flexDirection:"column","@media(min-width: 768px)":{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},footerCopyright:{textAlign:"center",marginBottom:"16px","@media(min-width: 768px)":{textAlign:"left",marginBottom:"0"}},socialLinks:{display:"flex",justifyContent:"center",gap:"24px","@media(min-width: 768px)":{justifyContent:"flex-end"}},socialLink:{color:"var(--colorNeutralForeground2)",fontSize:"20px",transition:"color 0.2s",":hover":{color:"var(--colorBrandForeground1)"}}});function m({children:e,className:s}){let a=h();return(0,c.useRouter)(),(0,t.jsxs)("div",{className:a.container,children:[t.jsx(d,{navItems:[{label:"Home",href:"/",icon:"house-door"},{label:"Chat",href:"/chat",icon:"chat-dots"},{label:"About",href:"#about",icon:"info-circle"}]}),t.jsx("main",{className:(0,n.mergeClasses)(a.main,s),children:t.jsx("div",{className:a.mainContent,children:e})}),t.jsx("footer",{className:a.footer,children:t.jsx("div",{className:a.footerContent,children:(0,t.jsxs)("div",{className:a.footerRow,children:[t.jsx("div",{className:a.footerCopyright,children:(0,t.jsxs)(n.Text,{size:200,children:["Universal Knowledge Graph System \xa9 ",new Date().getFullYear()]})}),(0,t.jsxs)("div",{className:a.socialLinks,children:[t.jsx("a",{href:"#",className:a.socialLink,"aria-label":"GitHub",children:t.jsx("i",{className:"bi bi-github"})}),t.jsx("a",{href:"#",className:a.socialLink,"aria-label":"Twitter",children:t.jsx("i",{className:"bi bi-twitter"})}),t.jsx("a",{href:"#",className:a.socialLink,"aria-label":"LinkedIn",children:t.jsx("i",{className:"bi bi-linkedin"})})]})]})})})]})}},3414:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i});var t=a(997);a(9090),a(3195),a(6764),a(9462),a(622),a(6689);let i=function({Component:e,pageProps:s}){return t.jsx(e,{...s})}},5949:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});var t=a(997),i=a(6859);function n(){return(0,t.jsxs)(i.Html,{lang:"en","data-bs-theme":"dark",children:[t.jsx(i.Head,{children:t.jsx("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"})}),(0,t.jsxs)("body",{children:[t.jsx(i.Main,{}),t.jsx(i.NextScript,{})]})]})}},6380:(e,s,a)=>{"use strict";a.a(e,async(e,t)=>{try{a.r(s),a.d(s,{default:()=>h});var i=a(997),n=a(6689),r=a(968),l=a.n(r),c=a(4905),o=a(8974),d=e([o]);function h(){let[e,s]=(0,n.useState)([]),[a,t]=(0,n.useState)(""),[r,d]=(0,n.useState)([]),[h,m]=(0,n.useState)(null),[x,p]=(0,n.useState)("New Conversation"),[b,u]=(0,n.useState)(!1),[g,j]=(0,n.useState)({confidenceThreshold:.85,enableLocationContext:!0,enableResearchAgents:!0,personas:{ke:!0,se:!0,re:!0,ce:!0}}),f=(0,n.useRef)(null),N=(0,n.useRef)(null),v=async()=>{if(!a.trim())return;let e={id:Date.now().toString(),type:"user",content:a,timestamp:new Date().toISOString()};s(s=>[...s,e]),t(""),u(!0);try{let e=await fetch("/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:a,target_confidence:g.confidenceThreshold,chat_id:h,use_location_context:g.enableLocationContext,use_research_agents:g.enableResearchAgents,active_personas:Object.entries(g.personas).filter(([e,s])=>s).map(([e])=>e.toUpperCase())})}),t=await e.json();if(!h&&t.chat_id){m(t.chat_id);let e={id:t.chat_id,title:y(a),created:new Date().toISOString(),lastUpdated:new Date().toISOString()};d(s=>[e,...s]),p(e.title),localStorage.setItem("ukg_chat_history",JSON.stringify([e,...r]))}let i={id:`response-${Date.now()}`,type:"system",content:t.error?`Error: ${t.error}`:t.response,confidence:t.confidence,timestamp:new Date().toISOString()};s(e=>[...e,i])}catch(a){console.error("Error sending message:",a);let e={id:`error-${Date.now()}`,type:"error",content:"Sorry, there was an error processing your request. Please try again.",timestamp:new Date().toISOString()};s(s=>[...s,e])}finally{u(!1)}},k=e=>{let a=r.find(s=>s.id===e);a&&(m(e),p(a.title),s([{id:"welcome",type:"system",content:`# ${a.title}

Continuing your previous conversation.`}]))},y=e=>e?e.length>30?e.substring(0,30)+"...":e:"New Conversation";return(0,i.jsxs)(c.Z,{children:[i.jsx(l(),{children:i.jsx("title",{children:"UKG Chat Interface"})}),(0,i.jsxs)("div",{className:"chat-container",children:[(0,i.jsxs)("div",{className:"chat-sidebar",children:[(0,i.jsxs)("div",{className:"sidebar-header",children:[i.jsx("h5",{className:"mb-0",children:"Chat History"}),i.jsx("button",{className:"btn btn-sm btn-outline-light d-flex align-items-center",children:i.jsx("i",{className:"bi bi-plus-lg"})})]}),(0,i.jsxs)("div",{className:"chat-history",children:[r.map((e,s)=>(0,i.jsxs)("div",{className:`chat-history-item ${h===e.id?"active":""}`,onClick:()=>k(e.id),children:[i.jsx("i",{className:"bi bi-chat-left-text"}),e.title]},s)),0===r.length&&(0,i.jsxs)("div",{className:"text-center text-muted p-3",children:[i.jsx("i",{className:"bi bi-chat-square-text fs-3 mb-2"}),i.jsx("p",{children:"No chat history yet"})]})]}),i.jsx("div",{className:"sidebar-footer",children:(0,i.jsxs)("button",{className:"btn btn-outline-light btn-sm w-100 d-flex align-items-center justify-content-center",children:[i.jsx("i",{className:"bi bi-trash me-2"}),"Clear History"]})})]}),i.jsx("button",{className:"sidebar-toggle",children:i.jsx("i",{className:"bi bi-list"})}),(0,i.jsxs)("div",{className:"chat-main",children:[(0,i.jsxs)("div",{className:"chat-header",children:[(0,i.jsxs)("h5",{className:"mb-0 d-flex align-items-center",children:[i.jsx("i",{className:"bi bi-robot me-2 d-none d-sm-inline"}),"UKG Chat Assistant"]}),(0,i.jsxs)("div",{className:"d-flex gap-2",children:[(0,i.jsxs)("button",{className:"btn btn-sm btn-outline-light d-flex align-items-center",children:[i.jsx("i",{className:"bi bi-gear"}),i.jsx("span",{className:"ms-1 d-none d-md-inline",children:"Settings"})]}),(0,i.jsxs)("button",{className:"btn btn-sm btn-outline-light d-flex align-items-center",children:[i.jsx("i",{className:"bi bi-question-circle"}),i.jsx("span",{className:"ms-1 d-none d-md-inline",children:"Help"})]})]})]}),(0,i.jsxs)("div",{className:"chat-messages",id:"chat-messages",children:[0===e.length?(0,i.jsxs)("div",{className:"welcome-message",children:[i.jsx("h2",{children:"Welcome to the UKG Chat System"}),i.jsx("p",{children:"A comprehensive AI knowledge system with a 13-axis Universal Knowledge Graph."}),(0,i.jsxs)("div",{className:"suggestion-chips",children:[i.jsx("div",{className:"chip",onClick:()=>t("How does the UKG system work?"),children:"How does the UKG system work?"}),i.jsx("div",{className:"chip",onClick:()=>t("Tell me about the 13 axes of knowledge"),children:"Tell me about the 13 axes of knowledge"}),i.jsx("div",{className:"chip",onClick:()=>t("What are knowledge algorithms?"),children:"What are knowledge algorithms?"})]})]}):e.map(e=>i.jsx("div",{className:`message ${e.type}`,children:"user"===e.type?(0,i.jsxs)(i.Fragment,{children:[i.jsx("div",{className:"message-avatar",children:i.jsx("i",{className:"bi bi-person-circle"})}),i.jsx("div",{className:"message-content",children:i.jsx("div",{className:"message-text",children:e.content})})]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx("div",{className:"message-avatar system-avatar",children:i.jsx("i",{className:"bi bi-robot"})}),(0,i.jsxs)("div",{className:"message-content",children:[i.jsx("div",{className:"message-text markdown-content",dangerouslySetInnerHTML:{__html:o.marked.parse(e.content)}}),e.confidence&&i.jsx("div",{className:"message-metadata",children:(0,i.jsxs)("span",{className:"confidence-badge",children:["Confidence: ",e.confidence]})})]})]})},e.id)),b&&(0,i.jsxs)("div",{className:"message system",children:[i.jsx("div",{className:"message-avatar system-avatar",children:i.jsx("i",{className:"bi bi-robot"})}),i.jsx("div",{className:"message-content",children:i.jsx("div",{className:"message-text",children:(0,i.jsxs)("div",{className:"typing-indicator",children:[i.jsx("span",{}),i.jsx("span",{}),i.jsx("span",{})]})})})]}),i.jsx("div",{ref:f})]}),(0,i.jsxs)("div",{className:"chat-input-container",children:[(0,i.jsxs)("div",{className:"position-relative w-100",children:[i.jsx("textarea",{id:"chat-input",className:"form-control",placeholder:"Ask a question...",rows:"1",value:a,onChange:e=>{t(e.target.value)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),v())},ref:N}),a&&i.jsx("button",{className:"btn btn-sm btn-link position-absolute top-50 end-0 translate-middle-y text-secondary me-2",type:"button",onClick:()=>t(""),style:{zIndex:5},children:i.jsx("i",{className:"bi bi-x-circle"})})]}),(0,i.jsxs)("div",{className:"input-buttons",children:[i.jsx("button",{className:"btn btn-outline-light d-flex align-items-center justify-content-center",type:"button",title:"Upload file",children:i.jsx("i",{className:"bi bi-paperclip"})}),i.jsx("button",{className:"btn btn-primary d-flex align-items-center justify-content-center",type:"button",onClick:v,disabled:!a.trim()||b,style:{minWidth:"48px",minHeight:"38px"},children:b?(0,i.jsxs)("div",{className:"typing-indicator",children:[i.jsx("span",{}),i.jsx("span",{}),i.jsx("span",{})]}):i.jsx("i",{className:"bi bi-send"})})]})]})]}),i.jsx("div",{className:"modal fade",id:"settings-modal",tabIndex:"-1","aria-hidden":"true",children:i.jsx("div",{className:"modal-dialog",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[i.jsx("h5",{className:"modal-title",children:"Chat Settings"}),i.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{htmlFor:"confidence-threshold",className:"form-label",children:["Target Confidence: ",i.jsx("span",{id:"confidence-value",children:g.confidenceThreshold})]}),i.jsx("input",{type:"range",className:"form-range",id:"confidence-threshold",min:"0.6",max:"0.95",step:"0.05",value:g.confidenceThreshold,onChange:e=>j({...g,confidenceThreshold:parseFloat(e.target.value)})})]}),(0,i.jsxs)("div",{className:"mb-3 form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"enable-location-context",checked:g.enableLocationContext,onChange:e=>j({...g,enableLocationContext:e.target.checked})}),i.jsx("label",{className:"form-check-label",htmlFor:"enable-location-context",children:"Enable Location Context"})]}),(0,i.jsxs)("div",{className:"mb-3 form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"enable-research-agents",checked:g.enableResearchAgents,onChange:e=>j({...g,enableResearchAgents:e.target.checked})}),i.jsx("label",{className:"form-check-label",htmlFor:"enable-research-agents",children:"Enable Research Agents"})]}),(0,i.jsxs)("div",{className:"mb-3",children:[i.jsx("label",{className:"form-label",children:"Active Personas"}),(0,i.jsxs)("div",{className:"persona-toggles",children:[(0,i.jsxs)("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"persona-ke",checked:g.personas.ke,onChange:e=>j({...g,personas:{...g.personas,ke:e.target.checked}})}),i.jsx("label",{className:"form-check-label",htmlFor:"persona-ke",children:"Knowledge Expert"})]}),(0,i.jsxs)("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"persona-se",checked:g.personas.se,onChange:e=>j({...g,personas:{...g.personas,se:e.target.checked}})}),i.jsx("label",{className:"form-check-label",htmlFor:"persona-se",children:"Skill Expert"})]}),(0,i.jsxs)("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"persona-re",checked:g.personas.re,onChange:e=>j({...g,personas:{...g.personas,re:e.target.checked}})}),i.jsx("label",{className:"form-check-label",htmlFor:"persona-re",children:"Role Expert"})]}),(0,i.jsxs)("div",{className:"form-check form-switch",children:[i.jsx("input",{className:"form-check-input",type:"checkbox",id:"persona-ce",checked:g.personas.ce,onChange:e=>j({...g,personas:{...g.personas,ce:e.target.checked}})}),i.jsx("label",{className:"form-check-label",htmlFor:"persona-ce",children:"Context Expert"})]})]})]})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[i.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),i.jsx("button",{type:"button",className:"btn btn-primary",id:"save-settings",onClick:()=>{let e=document.getElementById("settings-modal");e&&bootstrap.Modal.getInstance(e).hide()},children:"Save changes"})]})]})})})]})]})}o=(d.then?(await d)():d)[0],t()}catch(e){t(e)}})},9462:()=>{},6764:()=>{},622:()=>{},7143:e=>{"use strict";e.exports=require("@fluentui/react-components")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")},8974:e=>{"use strict";e.exports=import("marked")}};var s=require("../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[859,855],()=>a(9975));module.exports=t})();