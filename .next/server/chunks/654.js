"use strict";exports.id=654,exports.ids=[654],exports.modules={4654:(e,s,a)=>{a.d(s,{Z:()=>g});var t=a(997),r=a(6689),n=a(9003),i=a.n(n),l=a(4728);let d=r.forwardRef(({bsPrefix:e,fluid:s=!1,as:a="div",className:r,...n},d)=>{let c=(0,l.vE)(e,"container"),o="string"==typeof s?`-${s}`:"-fluid";return(0,t.jsx)(a,{ref:d,...n,className:i()(r,s?`${c}${o}`:c)})});d.displayName="Container";var c=a(308),o=a(8888),h=a(8083),m=a(5401),x=a(157),u=a(7650),j=a(6529);let p=r.forwardRef(({bsPrefix:e,className:s,striped:a,bordered:r,borderless:n,hover:d,size:c,variant:o,responsive:h,...m},x)=>{let u=(0,l.vE)(e,"table"),j=i()(s,u,o&&`${u}-${o}`,c&&`${u}-${c}`,a&&`${u}-${"string"==typeof a?`striped-${a}`:"striped"}`,r&&`${u}-bordered`,n&&`${u}-borderless`,d&&`${u}-hover`),p=(0,t.jsx)("table",{...m,className:j,ref:x});if(h){let e=`${u}-responsive`;return"string"==typeof h&&(e=`${e}-${h}`),(0,t.jsx)("div",{className:e,children:p})}return p});p.displayName="Table";let g=()=>{let[e,s]=(0,r.useState)(null),[a,n]=(0,r.useState)(!1),[i,l]=(0,r.useState)(null),[g,b]=(0,r.useState)("nuremberg"),[v,f]=(0,r.useState)(""),[y,Z]=(0,r.useState)([]),[S,N]=(0,r.useState)(Array(13).fill(0)),[_,$]=(0,r.useState)(.2);(0,r.useEffect)(()=>{C()},[]);let C=async()=>{try{n(!0);let e=await fetch("/api/unified/status"),a=await e.json();s(a),l(null)}catch(e){l("Failed to fetch system status")}finally{n(!1)}},w=(e,s)=>{let a=[...S];a[e]=parseFloat(s)||0,N(a)},A=async e=>{e.preventDefault(),n(!0),l(null);try{let e;if("coordinates"===g){e=await fetch("/api/unified/coordinates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({coordinates:S,distance_threshold:_})});let s=await e.json();"success"===s.status?Z(s.nearby_nodes||[]):l(s.message||"Search failed")}else if("nuremberg"===g){e=await fetch(`/api/unified/nuremberg/${v}`);let s=await e.json();"success"===s.status?Z(s.nodes||[]):l(s.message||"Search failed")}else if("samgov"===g){e=await fetch(`/api/unified/samgov/${v}`);let s=await e.json();"success"===s.status?Z(s.nodes||[]):l(s.message||"Search failed")}}catch(e){l("Search failed: "+e.message)}finally{n(!1)}};return(0,t.jsxs)(d,{className:"mt-4",children:[t.jsx("h1",{className:"mb-4",children:"Unified Mapping System"}),t.jsx("p",{className:"lead",children:"13D coordinate system for precise data localization using Nuremberg numbering and SAM.gov naming conventions with NASA space mapping inspiration."}),i&&t.jsx(c.Z,{variant:"danger",children:i}),(0,t.jsxs)(o.Z,{className:"mb-4",children:[t.jsx(h.Z,{md:6,children:(0,t.jsxs)(m.Z,{children:[t.jsx(m.Z.Header,{as:"h5",children:"System Status"}),t.jsx(m.Z.Body,{children:a&&!e?t.jsx("p",{children:"Loading system status..."}):e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Status:"})," ",t.jsx(x.Z,{bg:"active"===e.system_status?"success":"warning",children:e.system_status})]}),e.node_stats&&(0,t.jsxs)("div",{children:[t.jsx("h6",{children:"Node Statistics"}),(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:["Total Nodes: ",e.node_stats.total_nodes]}),(0,t.jsxs)("li",{children:["Nuremberg Mapped: ",e.node_stats.nuremberg_mapped_nodes]}),(0,t.jsxs)("li",{children:["SAM.gov Mapped: ",e.node_stats.samgov_mapped_nodes]}),(0,t.jsxs)("li",{children:["Coordinate Mapped: ",e.node_stats.coordinates_mapped_nodes]})]})]}),(0,t.jsxs)("p",{className:"mt-2 mb-0 text-muted small",children:["Last updated: ",new Date(e.timestamp).toLocaleString()]})]}):t.jsx("p",{children:"No system status available"})})]})}),t.jsx(h.Z,{md:6,children:(0,t.jsxs)(m.Z,{children:[t.jsx(m.Z.Header,{as:"h5",children:"Search Options"}),t.jsx(m.Z.Body,{children:(0,t.jsxs)(u.Z,{onSubmit:A,children:[(0,t.jsxs)(u.Z.Group,{className:"mb-3",children:[t.jsx(u.Z.Label,{children:"Search Type"}),(0,t.jsxs)(u.Z.Select,{value:g,onChange:e=>b(e.target.value),children:[t.jsx("option",{value:"nuremberg",children:"Nuremberg Code"}),t.jsx("option",{value:"samgov",children:"SAM.gov Name"}),t.jsx("option",{value:"coordinates",children:"13D Coordinates"})]})]}),"coordinates"!==g?(0,t.jsxs)(u.Z.Group,{className:"mb-3",children:[t.jsx(u.Z.Label,{children:"nuremberg"===g?"Nuremberg Code":"SAM.gov Name"}),t.jsx(u.Z.Control,{type:"text",value:v,onChange:e=>f(e.target.value),placeholder:"nuremberg"===g?"100-1234":"KNW_PillarLevel"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(u.Z.Group,{className:"mb-3",children:[t.jsx(u.Z.Label,{children:"13D Coordinates"}),t.jsx(o.Z,{children:S.map((e,s)=>(0,t.jsxs)(h.Z,{md:4,className:"mb-2",children:[(0,t.jsxs)(u.Z.Label,{className:"small",children:["Axis ",s+1]}),t.jsx(u.Z.Control,{type:"number",step:"0.1",min:"-1",max:"1",value:e,onChange:e=>w(s,e.target.value)})]},s))})]}),(0,t.jsxs)(u.Z.Group,{className:"mb-3",children:[t.jsx(u.Z.Label,{children:"Distance Threshold"}),t.jsx(u.Z.Control,{type:"number",step:"0.1",min:"0.1",max:"1.0",value:_,onChange:e=>$(parseFloat(e.target.value)||.2)})]})]}),t.jsx(j.Z,{variant:"primary",type:"submit",disabled:a,children:a?"Searching...":"Search"})]})})]})})]}),t.jsx(o.Z,{children:t.jsx(h.Z,{children:(0,t.jsxs)(m.Z,{children:[t.jsx(m.Z.Header,{as:"h5",children:"Search Results"}),t.jsx(m.Z.Body,{children:y.length>0?(0,t.jsxs)(p,{responsive:!0,striped:!0,children:[t.jsx("thead",{children:(0,t.jsxs)("tr",{children:[t.jsx("th",{children:"ID"}),t.jsx("th",{children:"Name"}),t.jsx("th",{children:"Nuremberg Code"}),t.jsx("th",{children:"SAM.gov Name"}),t.jsx("th",{children:"Axis"}),"coordinates"===g&&t.jsx("th",{children:"Distance"})]})}),t.jsx("tbody",{children:y.map((e,s)=>{let a="coordinates"===g?e.node:e;return(0,t.jsxs)("tr",{children:[t.jsx("td",{children:a.id||a.uid||"-"}),t.jsx("td",{children:a.name||"-"}),t.jsx("td",{children:a.nuremberg_code||"-"}),t.jsx("td",{children:a.samgov_name||"-"}),t.jsx("td",{children:a.axis_number||"-"}),"coordinates"===g&&t.jsx("td",{children:e.distance.toFixed(4)})]},s)})})]}):t.jsx("p",{children:"No results found"})})]})})})]})}}};