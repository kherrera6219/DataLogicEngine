"use strict";exports.id=201,exports.ids=[201],exports.modules={7114:(e,a,r)=>{r(997),r(6689),(0,r(7143).makeStyles)({avatar:{flexShrink:0}})},3467:(e,a,r)=>{r.d(a,{Z:()=>i});var t=r(997);r(6689);var s=r(7143);let l=(0,s.makeStyles)({badge:{}}),i=({children:e,appearance:a="filled",color:r="brand",shape:i="rounded",size:n="medium",icon:d,className:c,...o})=>{let m=l(),h=null;return d&&(h=t.jsx("i",{className:`bi bi-${d}`})),t.jsx(s.Badge,{appearance:a,color:r,shape:i,size:n,icon:h,className:(0,s.mergeClasses)(m.badge,c),...o,children:e})}},8288:(e,a,r)=>{r.d(a,{Z:()=>s});var t=r(997);r(6689);let s=({children:e,onClick:a,type:r="button",variant:s="primary",size:l="md",className:i="",disabled:n=!1,...d})=>{let c={primary:"bg-blue-600 hover:bg-blue-700 text-white",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-800",danger:"bg-red-600 hover:bg-red-700 text-white",success:"bg-green-600 hover:bg-green-700 text-white",outline:"border border-blue-600 text-blue-600 hover:bg-blue-50"},o={sm:"px-2 py-1 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"},m=c[s]||c.primary,h=o[l]||o.md;return t.jsx("button",{type:r,onClick:a,disabled:n,className:`font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 ${m} ${h} ${n?"opacity-50 cursor-not-allowed":""} ${i}`,...d,children:e})}},781:(e,a,r)=>{r.d(a,{Z:()=>s});var t=r(997);r(6689);let s=({children:e,className:a="",title:r="",footer:s=null,shadow:l="md",border:i=!1,...n})=>{let d={none:"",sm:"shadow-sm",md:"shadow",lg:"shadow-lg",xl:"shadow-xl"},c=d[l]||d.md;return(0,t.jsxs)("div",{className:`bg-white rounded-lg overflow-hidden ${c} ${i?"border border-gray-200":""} ${a}`,...n,children:[r&&t.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:t.jsx("h3",{className:"font-medium text-gray-900",children:r})}),t.jsx("div",{className:"p-4",children:e}),s&&t.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200",children:s})]})}},4411:(e,a,r)=>{r(997),r(6689);var t=r(7143);r(7114),(0,t.makeStyles)({message:{display:"flex",marginBottom:"24px",gap:"16px",maxWidth:"85%",animation:"fadeIn 0.3s ease-in-out"},userMessage:{alignSelf:"flex-end",flexDirection:"row-reverse",marginLeft:"auto"},systemMessage:{alignSelf:"flex-start"},errorMessage:{alignSelf:"flex-start"},content:{maxWidth:"100%"},textBubble:{...t.shorthands.padding("16px"),...t.shorthands.borderRadius("12px","12px","12px","0"),backgroundColor:"var(--colorNeutralBackground4)",color:"var(--colorNeutralForeground1)",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)",position:"relative"},userTextBubble:{backgroundColor:"var(--colorBrandBackground)",color:"var(--colorNeutralForegroundInverted)",...t.shorthands.borderRadius("12px","12px","0","12px")},errorTextBubble:{backgroundColor:"var(--colorPaletteRedBackground2)",color:"var(--colorPaletteRedForeground2)",...t.shorthands.borderRadius("12px","12px","12px","0")},metadata:{marginTop:"4px",fontSize:"12px",color:"var(--colorNeutralForeground3)"},"@keyframes fadeIn":{from:{opacity:0,transform:"translateY(10px)"},to:{opacity:1,transform:"translateY(0)"}},markdown:{lineHeight:1.6,"& h1, & h2, & h3, & h4, & h5, & h6":{margin:"16px 0 8px"},"& h1":{fontSize:"1.8rem"},"& h2":{fontSize:"1.5rem"},"& h3":{fontSize:"1.3rem"},"& p":{margin:"8px 0"},"& ul, & ol":{marginLeft:"20px"},"& code":{backgroundColor:"rgba(0, 0, 0, 0.1)",...t.shorthands.padding("2px","4px"),...t.shorthands.borderRadius("4px"),fontFamily:"monospace"},"& pre":{backgroundColor:"rgba(0, 0, 0, 0.1)",...t.shorthands.padding("12px"),...t.shorthands.borderRadius("4px"),overflowX:"auto"},"& a":{color:"var(--colorBrandForegroundLink)",textDecoration:"none",":hover":{textDecoration:"underline"}}}})},2954:(e,a,r)=>{r.a(e,async(e,t)=>{try{r.d(a,{Z:()=>d});var s=r(997),l=r(6689),i=r(3067),n=e([i]);i=(n.then?(await n)():n)[0];let d=({standardId:e})=>{let[a,r]=(0,l.useState)(null),[t,n]=(0,l.useState)(!0),[d,c]=(0,l.useState)(null),o=(0,l.useRef)();(0,l.useEffect)(()=>{(async()=>{try{n(!0);let a=await fetch(`/api/compliance/standards/${e||""}`),t=await a.json();"success"===t.status?r(t):c(t.message||"Failed to load compliance data")}catch(e){c("Error fetching compliance data: "+e.message)}finally{n(!1)}})()},[e]),(0,l.useEffect)(()=>{if(!a||!o.current)return;i.select(o.current).selectAll("*").remove();let e=i.select(o.current).attr("width",800).attr("height",600).append("g").attr("transform","translate(400, 300)"),r=a.standard,t=a.child_standards||[];e.append("circle").attr("r",30).attr("fill",m(r.standard_type)).attr("stroke","#fff").attr("stroke-width",2),e.append("text").attr("text-anchor","middle").attr("dy",".3em").attr("fill","#fff").attr("font-size","10px").text(r.label);let s=2*Math.PI/Math.max(t.length,1);t.forEach((a,r)=>{let t=r*s,l=220*Math.cos(t),i=220*Math.sin(t);e.append("line").attr("x1",0).attr("y1",0).attr("x2",l).attr("y2",i).attr("stroke","#aaa").attr("stroke-width",1),e.append("circle").attr("r",20).attr("cx",l).attr("cy",i).attr("fill",m(a.standard.standard_type)).attr("stroke","#fff").attr("stroke-width",1),e.append("text").attr("x",l).attr("y",i).attr("text-anchor","middle").attr("dy",".3em").attr("fill","#fff").attr("font-size","8px").text(a.standard.label)});let l=e.append("g").attr("transform","translate(-350, -250)");["iso","nist","pci","hipaa","gdpr"].forEach((e,a)=>{l.append("circle").attr("r",8).attr("cx",10).attr("cy",25*a).attr("fill",m(e)),l.append("text").attr("x",25).attr("y",25*a+4).text(e.toUpperCase()).attr("fill","#333")})},[a]);let m=e=>{let a={iso:"#1f77b4",nist:"#ff7f0e",pci:"#2ca02c",hipaa:"#d62728",gdpr:"#9467bd",default:"#8c564b"};return a[e]||a.default};return t?s.jsx("div",{className:"text-center p-5",children:"Loading compliance data..."}):d?s.jsx("div",{className:"alert alert-danger",children:d}):a?(0,s.jsxs)("div",{className:"compliance-spiderweb-container",children:[s.jsx("h3",{className:"text-center mb-4",children:"Compliance Standards Spiderweb"}),(0,s.jsxs)("div",{className:"text-center",children:[a.standard&&(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("h4",{children:a.standard.label}),s.jsx("p",{className:"text-muted",children:a.standard.description}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Type:"})," ",a.standard.standard_type.toUpperCase()]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Level:"})," ",a.standard.standard_level]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Code:"})," ",a.standard.code]})]}),s.jsx("div",{className:"spiderweb-visualization",children:s.jsx("svg",{ref:o})}),a.child_standards&&a.child_standards.length>0&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("h5",{children:["Child Standards (",a.child_standards.length,")"]}),s.jsx("div",{className:"row",children:a.child_standards.map(e=>s.jsx("div",{className:"col-md-4 mb-3",children:s.jsx("div",{className:"card",children:(0,s.jsxs)("div",{className:"card-body",children:[s.jsx("h6",{className:"card-title",children:e.standard.label}),s.jsx("p",{className:"card-text small",children:e.standard.code})]})})},e.standard.uid))})]})]})]}):s.jsx("div",{className:"alert alert-info",children:"No compliance data available"})};t()}catch(e){t(e)}})},1331:(e,a,r)=>{r.d(a,{Z:()=>h});var t=r(997),s=r(6689),l=r(44),i=r(8857),n=r(2448),d=r(308),c=r(5401),o=r(8888),m=r(8083);let h=()=>{let[e,a]=(0,s.useState)(!0),[r,h]=(0,s.useState)(null),[x,p]=(0,s.useState)([]),[u,g]=(0,s.useState)(null),[b,j]=(0,s.useState)(null);(0,s.useEffect)(()=>{f()},[]);let f=async()=>{try{a(!0);let e=await fetch("/api/contextual/experts"),r=await e.json();r.success?(p(r.experts),r.experts.length>0&&(g(r.experts[0]),v(r.experts[0].id))):h(r.error||"Failed to fetch contextual experts")}catch(e){h("Error fetching contextual experts: "+e.message)}finally{a(!1)}},v=async e=>{try{let a=await fetch(`/api/contextual/expertise-model/${e}`),r=await a.json();r.success?j(r.expertise_model):h(r.error||"Failed to fetch expertise model")}catch(e){h("Error fetching expertise model: "+e.message)}},y=e=>{g(e),v(e.id)};return e?t.jsx("div",{className:"text-center p-5",children:t.jsx(n.Z,{animation:"border",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):r?t.jsx(d.Z,{variant:"danger",children:r}):t.jsx("div",{className:"contextual-expert-web",children:(0,t.jsxs)(c.Z,{className:"mb-4",children:[(0,t.jsxs)(c.Z.Header,{children:[t.jsx("h2",{children:"Contextual Expert Web (Axis 11)"}),t.jsx("p",{className:"text-muted",children:"Contextual experts provide specialized perspectives based on real-world application contexts. Each expert has a comprehensive 7-part expertise model."})]}),t.jsx(c.Z.Body,{children:(0,t.jsxs)(o.Z,{children:[t.jsx(m.Z,{md:4,children:t.jsx(l.Z,{variant:"pills",className:"flex-column",children:x.map(e=>t.jsx(l.Z.Item,{children:t.jsx(l.Z.Link,{active:u&&u.id===e.id,onClick:()=>y(e),children:e.label})},e.id))})}),t.jsx(m.Z,{md:8,children:u?(0,t.jsxs)("div",{className:"expert-details",children:[t.jsx("h3",{children:u.label}),t.jsx("p",{children:u.description}),b?(0,t.jsxs)("div",{className:"expertise-model mt-3",children:[t.jsx("h4",{children:"7-Part Expertise Model"}),(0,t.jsxs)(i.Z,{defaultActiveKey:"0",children:[(0,t.jsxs)(i.Z.Item,{eventKey:"0",children:[t.jsx(i.Z.Header,{children:"Role"}),t.jsx(i.Z.Body,{children:t.jsx("p",{children:b.role})})]}),(0,t.jsxs)(i.Z.Item,{eventKey:"1",children:[t.jsx(i.Z.Header,{children:"Formal Education"}),t.jsx(i.Z.Body,{children:t.jsx("ul",{children:b.formal_education.map((e,a)=>t.jsx("li",{children:e},a))})})]}),(0,t.jsxs)(i.Z.Item,{eventKey:"2",children:[t.jsx(i.Z.Header,{children:"Industry & Corporate Certifications"}),t.jsx(i.Z.Body,{children:t.jsx("ul",{children:b.certifications.map((e,a)=>t.jsx("li",{children:e},a))})})]}),(0,t.jsxs)(i.Z.Item,{eventKey:"3",children:[t.jsx(i.Z.Header,{children:"Job Training"}),t.jsx(i.Z.Body,{children:t.jsx("ul",{children:b.job_training.map((e,a)=>t.jsx("li",{children:e},a))})})]}),(0,t.jsxs)(i.Z.Item,{eventKey:"4",children:[t.jsx(i.Z.Header,{children:"Skills"}),t.jsx(i.Z.Body,{children:t.jsx("ul",{children:b.skills.map((e,a)=>t.jsx("li",{children:e},a))})})]}),(0,t.jsxs)(i.Z.Item,{eventKey:"5",children:[t.jsx(i.Z.Header,{children:"Related Tasks"}),t.jsx(i.Z.Body,{children:t.jsx("ul",{children:b.related_tasks.map((e,a)=>t.jsx("li",{children:e},a))})})]}),(0,t.jsxs)(i.Z.Item,{eventKey:"6",children:[t.jsx(i.Z.Header,{children:"Related Roles"}),t.jsx(i.Z.Body,{children:t.jsx("ul",{children:b.related_roles.map((e,a)=>t.jsx("li",{children:e},a))})})]})]})]}):null,(0,t.jsxs)("div",{className:"branch-structure mt-4",children:[t.jsx("h4",{children:"Branch Structure"}),t.jsx("p",{children:"The contextual expert hierarchy follows the branch pattern:"}),(0,t.jsxs)("ul",{children:[t.jsx("li",{children:"Mega branches (4)"}),t.jsx("li",{children:"Large branches (4 per mega)"}),t.jsx("li",{children:"Medium branches (4 per large)"}),t.jsx("li",{children:"Small branches (4 per medium)"}),t.jsx("li",{children:"Granular branches (as needed)"})]})]})]}):null})]})})]})})}},7807:(e,a,r)=>{r.d(a,{Z:()=>l});var t=r(997);r(6689);let s=({id:e,name:a,value:r,onChange:s,options:l=[],placeholder:i="Select an option",className:n="",title:d,children:c,...o})=>c?(0,t.jsxs)("div",{className:"dropdown",children:[t.jsx("button",{className:`btn dropdown-toggle ${n}`,type:"button",id:e,"data-bs-toggle":"dropdown","aria-expanded":"false",children:d||"Dropdown"}),t.jsx("ul",{className:"dropdown-menu","aria-labelledby":e,children:c})]}):(0,t.jsxs)("select",{id:e,name:a,value:r,onChange:s,className:`w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${n}`,...o,children:[t.jsx("option",{value:"",disabled:!0,children:i}),l.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))]});s.Item=({children:e,onClick:a,className:r=""})=>t.jsx("li",{children:t.jsx("button",{className:`dropdown-item ${r}`,type:"button",onClick:a,children:e})});let l=s},563:(e,a,r)=>{r.a(e,async(e,t)=>{try{r.r(a),r.d(a,{default:()=>d});var s=r(997),l=r(6689),i=r(3418),n=e([i]);i=(n.then?(await n)():n)[0];let d=({data:e,centerNodeId:a,width:r=800,height:t=600})=>{let n=(0,l.useRef)(),[d,c]=(0,l.useState)({nodes:[],links:[]});(0,l.useEffect)(()=>{if(e){let a=[],r=[],t={};if(e.center_node){let r={id:e.center_node.uid,name:e.center_node.name||e.center_node.label||"Unknown",axis:e.center_node.axis_number||0,type:e.center_node.node_type||"unknown",val:20,color:o(e.center_node.axis_number||0)};a.push(r),t[r.id]=!0}e.connections_created&&e.connections_created.forEach(e=>{if(e.target&&!t[e.target.uid]){let r={id:e.target.uid,name:e.target.name||e.target.label||"Unknown",axis:e.axis||e.target.axis_number||0,type:e.target.node_type||"unknown",val:10,color:o(e.axis||e.target.axis_number||0)};a.push(r),t[r.id]=!0}e.edge&&r.push({source:e.edge.source_id,target:e.edge.target_id,type:e.connection_type||e.edge.edge_type,strength:e.strength||1,value:e.strength||1,color:m(e.connection_type||e.edge.edge_type)})}),c({nodes:a,links:r})}},[e]),(0,l.useEffect)(()=>{if(n.current&&a){let e=d.nodes.find(e=>e.id===a);e&&(n.current.centerAt(e.x,e.y,1e3),n.current.zoom(2.5,1e3))}},[d,a]);let o=e=>{let a={0:"#cccccc",1:"#ff5555",2:"#5555ff",3:"#55aa55",4:"#aa55aa",5:"#55aaaa",6:"#aaaa55",7:"#ff9955",8:"#5599ff",9:"#ff55aa",10:"#aa77ff",11:"#77aaff",12:"#ffaa77",13:"#77ff77"};return a[e]||a[0]},m=e=>({direct_application:"#ff5555",enables:"#5555ff",implements:"#55aa55",specializes:"#aa55aa",extends:"#55aaaa",alternative_to:"#aaaa55",derived_from:"#ff9955",regulated_by:"#5599ff",certified_by:"#ff55aa",compatible_with:"#aa77ff",prerequisite_for:"#77aaff",crosswalks_to:"#ffaa77"})[e]||"#aaaaaa";return s.jsx("div",{className:"honeycomb-graph-container",style:{width:r,height:t},children:d.nodes.length>0?s.jsx(i.Z,{ref:n,graphData:d,nodeLabel:e=>`${e.name} (Axis ${e.axis})`,linkLabel:e=>`${e.type} (Strength: ${e.strength.toFixed(2)})`,nodeRelSize:6,onNodeClick:e=>{n.current&&(n.current.centerAt(e.x,e.y,1e3),n.current.zoom(2.5,1e3))},linkWidth:e=>2*e.value,linkDirectionalParticles:2,linkDirectionalParticleWidth:e=>2*e.value,cooldownTicks:100,width:r,height:t}):s.jsx("div",{className:"text-center p-5",children:s.jsx("p",{children:"No honeycomb data available. Generate a honeycomb network first."})})})};t()}catch(e){t(e)}})},665:(e,a,r)=>{r.d(a,{Z:()=>l});var t=r(997);r(6689);var s=r(7143);let l=({type:e="text",appearance:a="outline",size:r="medium",placeholder:l,value:i,onChange:n,disabled:d=!1,...c})=>t.jsx(s.Input,{type:e,appearance:a,size:r,placeholder:l,value:i,onChange:n,disabled:d,...c})},4008:(e,a,r)=>{r.d(a,{Z:()=>s});var t=r(997);r(6689);let s=({children:e,htmlFor:a,className:r="",required:s=!1,...l})=>(0,t.jsxs)("label",{htmlFor:a,className:`block text-sm font-medium text-gray-700 ${r}`,...l,children:[e,s&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})},5605:(e,a,r)=>{r.a(e,async(e,t)=>{try{r.d(a,{Z:()=>h});var s=r(997),l=r(6689),i=r(8201),n=r(1561),d=r(7807),c=r(4008),o=r(2210),m=e([i,o]);function h({initialPillarId:e}){let[a,r]=(0,l.useState)([]),[t,m]=(0,l.useState)(e||""),[h,x]=(0,l.useState)(null),[p,u]=(0,l.useState)(""),[g,b]=(0,l.useState)(!1),[j,f]=(0,l.useState)([]);(0,o.useToast)();let v=async(e,a=null)=>{if(e){b(!0);try{let r=await fetch(`/api/pillars/${e}/expand`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({context_text:a})});if(r.ok){let a=await r.json();x(a),y(e)}else{let e=await r.json();showToast({title:"Error",description:e.error||"Failed to expand pillar",status:"error",duration:5e3})}}catch(e){showToast({title:"Error",description:"An unexpected error occurred",status:"error",duration:5e3})}finally{b(!1)}}},y=async e=>{try{let a=await fetch(`/api/pillars/mappings?pillar_id=${e}`);if(a.ok){let e=await a.json();f(e)}}catch(e){}},N=e=>{m(e),u(""),x(null),e&&v(e)},w=async(e,a,r)=>{try{let s=await fetch("/api/pillars/mappings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source_pillar_id:t,source_sublevel_id:e,target_pillar_id:a,target_sublevel_id:r,mapping_type:"related_to",strength:.7,bidirectional:!0})});if(s.ok)showToast({title:"Success",description:"Mapping created successfully",status:"success",duration:3e3}),y(t);else{let e=await s.json();showToast({title:"Error",description:e.error||"Failed to create mapping",status:"error",duration:5e3})}}catch(e){showToast({title:"Error",description:"An unexpected error occurred",status:"error",duration:5e3})}},k=(e,a=0)=>e&&Array.isArray(e)&&0!==e.length?s.jsx("div",{children:e.map(e=>(0,s.jsxs)("div",{style:{marginLeft:`${20*a}px`,marginBottom:"8px"},children:[(0,s.jsxs)("div",{className:"d-flex align-items-center",children:[s.jsx(i.Ct,{color:0===a?"primary":1===a?"info":"secondary",children:e.id}),s.jsx(n.Z,{ml:2,fontWeight:0===a?"bold":"normal",children:e.label||e.name}),h&&h.related_pillars&&h.related_pillars.length>0&&s.jsx(d.Z,{className:"ms-auto",title:"Map to...",variant:"outline-secondary",size:"sm",children:h.related_pillars.map(a=>(0,s.jsxs)("div",{className:"dropdown-item",children:[s.jsx("strong",{children:a.pillar_id}),a.mappings&&a.mappings.map(r=>(0,s.jsxs)(i.zx,{size:"sm",variant:"link",className:"d-block text-start",onClick:()=>w(e.id,a.pillar_id,r.target_sublevel),children:["Map to ",r.target_sublevel]},`${r.target_sublevel}`))]},a.pillar_id))})]}),e.description&&s.jsx(n.Z,{fontSize:"sm",color:"gray.600",ml:3,children:e.description}),e.sublevels&&k(e.sublevels,a+1)]},e.id))}):s.jsx(n.Z,{color:"gray.500",ml:4*a,children:"No sublevels defined"});return s.jsx("div",{children:(0,s.jsxs)(i.Zb,{className:"mb-4",children:[s.jsx(i.Zb.Header,{children:s.jsx(i.Zb.Title,{children:"Knowledge Pillar Dynamic Mapping"})}),(0,s.jsxs)(i.Zb.Body,{children:[(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx(c.Z,{htmlFor:"pillarSelect",children:"Select Pillar Level:"}),s.jsx(d.Z,{title:t||"Select a Pillar",id:"pillarSelect",children:a.map(e=>(0,s.jsxs)(d.Z.Item,{onClick:()=>N(e.id),children:[e.id,": ",e.label||e.name]},e.id))})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx(c.Z,{htmlFor:"contextText",children:"Context for Expansion:"}),s.jsx(i.gx,{id:"contextText",value:p,onChange:e=>u(e.target.value),placeholder:"Enter text to provide context for dynamic mapping expansion...",rows:4}),s.jsx("div",{className:"mt-2",children:s.jsx(i.zx,{onClick:()=>{t?v(t,p):showToast({title:"Warning",description:"Please select a pillar first",status:"warning",duration:3e3})},disabled:!t||g,isLoading:g,children:h?"Re-expand with Context":"Expand with Context"})})]}),h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h4",{className:"mb-3",children:["Pillar Structure: ",h.pillar_name," (",h.pillar_id,")"]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("h5",{children:"Base Sublevels"}),k(h.base_sublevels)]}),h.expanded_sublevels&&h.expanded_sublevels.length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("h5",{children:"Expanded Sublevels"}),k(h.expanded_sublevels)]}),h.related_pillars&&h.related_pillars.length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("h5",{children:"Related Pillars"}),s.jsx("div",{className:"row",children:h.related_pillars.map(e=>s.jsx("div",{className:"col-md-6 mb-3",children:s.jsx(i.Zb,{children:(0,s.jsxs)(i.Zb.Body,{children:[(0,s.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[s.jsx("h6",{className:"mb-0",children:e.pillar_id}),s.jsx(i.Ct,{className:"ms-2",color:e.suggested?"warning":"success",children:e.suggested?"Suggested":"Mapped"}),(0,s.jsxs)(n.Z,{className:"ms-auto",children:["Strength: ",e.strength.toFixed(2)]})]}),e.mappings&&e.mappings.length>0&&(0,s.jsxs)("div",{children:[s.jsx(n.Z,{fontSize:"sm",fontWeight:"bold",children:"Existing Mappings:"}),s.jsx("ul",{className:"list-unstyled ms-3",children:e.mappings.map((e,a)=>s.jsx("li",{children:(0,s.jsxs)(n.Z,{fontSize:"sm",children:[e.source_sublevel||"source"," â†’ ",e.target_sublevel||"target",e.mapping_type&&` (${e.mapping_type})`]})},a))})]}),e.reason&&s.jsx(n.Z,{fontSize:"sm",fontStyle:"italic",color:"gray.500",mt:1,children:e.reason})]})})},e.pillar_id))})]}),j&&j.length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("h5",{children:"All Dynamic Mappings"}),s.jsx("div",{className:"table-responsive",children:(0,s.jsxs)("table",{className:"table table-sm",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{children:[s.jsx("th",{children:"Source"}),s.jsx("th",{children:"Target"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Strength"})]})}),s.jsx("tbody",{children:j.map((e,a)=>(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{children:[e.source.pillar_id,".",e.source.sublevel_id]}),(0,s.jsxs)("td",{children:[e.target.pillar_id,".",e.target.sublevel_id]}),s.jsx("td",{children:e.mapping_type}),s.jsx("td",{children:e.strength.toFixed(2)})]},a))})]})})]})]})]})]})})}[i,o]=m.then?(await m)():m,t()}catch(e){t(e)}})},6690:(e,a,r)=>{r.a(e,async(e,t)=>{try{r.r(a),r.d(a,{default:()=>d});var s=r(997),l=r(6689),i=r(8201),n=e([i]);i=(n.then?(await n)():n)[0];let d=({frameworkUid:e,onNodeClick:a})=>{let r;let[t,n]=(0,l.useState)(null),[d,c]=(0,l.useState)(!1),[o,m]=(0,l.useState)(null),[h,x]=(0,l.useState)({});(0,l.useEffect)(()=>{e&&p()},[e]);let p=async()=>{if(e){c(!0),m(null);try{let a=await fetch(`/api/regulatory/octopus/${e}`);if(!a.ok)throw Error(`Failed to fetch octopus data: ${a.statusText}`);let r=await a.json();"success"===r.status?n(r.octopus):m(r.message||"Failed to load regulatory octopus data")}catch(e){m(e.message||"An error occurred while fetching the octopus data")}finally{c(!1)}}},u=(e,a)=>{x(a=>({...a,[e]:!a[e]}))},g=e=>{a&&a(e)};if(d)return s.jsx("div",{className:"text-center p-4",children:s.jsx("div",{className:"spinner-border",role:"status"})});if(o)return s.jsx("div",{className:"alert alert-danger",children:o});if(!t)return s.jsx("div",{className:"text-center p-4",children:"No data available. Select a regulatory framework."});let b=(e,a)=>e&&0!==Object.keys(e).length?s.jsx("ul",{className:"list-group mt-2",children:Object.entries(e).map(([e,a])=>s.jsx("li",{className:"list-group-item list-group-item-action d-flex justify-content-between align-items-center",onClick:()=>g(a.requirement),children:(0,s.jsxs)("div",{children:[s.jsx("div",{className:"fw-bold",children:a.requirement.label}),s.jsx("div",{className:"small text-muted",children:a.requirement.description}),a.requirement.criticality&&s.jsx("span",{className:`badge bg-${"high"===a.requirement.criticality?"danger":"medium"===a.requirement.criticality?"warning":"info"} me-1`,children:a.requirement.criticality})]})},e))}):s.jsx("div",{className:"text-muted",children:"No requirements defined"}),j=(e,a)=>e&&0!==Object.keys(e).length?s.jsx("div",{className:"ms-3 mt-2",children:Object.entries(e).map(([e,a])=>{let r=!0===h[e];return(0,s.jsxs)(i.Zb,{className:"mb-2 border-info",children:[s.jsx(i.Zb.Header,{className:"bg-light",children:(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center",onClick:()=>u(e,"small"),style:{cursor:"pointer"},children:[s.jsx("div",{children:(0,s.jsxs)("span",{className:"text-primary",children:[s.jsx("i",{className:"bi bi-file-text me-2"}),a.framework.label]})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"badge bg-info me-1",children:[Object.keys(a.granular_requirements||{}).length," Reqs"]}),s.jsx("button",{className:"btn btn-sm btn-outline-secondary",children:s.jsx("i",{className:`bi bi-chevron-${r?"up":"down"}`})})]})]})}),r&&(0,s.jsxs)(i.Zb.Body,{children:[s.jsx("small",{className:"text-muted d-block mb-2",children:a.framework.description}),s.jsx("h6",{className:"mt-3",children:"Granular Requirements"}),b(a.granular_requirements,e)]})]},e)})}):s.jsx("div",{className:"text-muted",children:"No small frameworks defined"}),f=(e,a)=>e&&0!==Object.keys(e).length?s.jsx("div",{className:"ms-3 mt-2",children:Object.entries(e).map(([e,a])=>{let r=!0===h[e];return(0,s.jsxs)(i.Zb,{className:"mb-3 border-primary",children:[s.jsx(i.Zb.Header,{className:"bg-light",children:(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center",onClick:()=>u(e,"medium"),style:{cursor:"pointer"},children:[s.jsx("div",{children:(0,s.jsxs)("span",{className:"text-primary",children:[s.jsx("i",{className:"bi bi-journal-text me-2"}),a.framework.label]})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"badge bg-primary me-1",children:[Object.keys(a.small_frameworks||{}).length," Small"]}),s.jsx("button",{className:"btn btn-sm btn-outline-secondary",children:s.jsx("i",{className:`bi bi-chevron-${r?"up":"down"}`})})]})]})}),r&&(0,s.jsxs)(i.Zb.Body,{children:[s.jsx("small",{className:"text-muted d-block mb-2",children:a.framework.description}),s.jsx("h6",{className:"mt-3",children:"Small Frameworks"}),j(a.small_frameworks,e)]})]},e)})}):s.jsx("div",{className:"text-muted",children:"No medium frameworks defined"});return(0,s.jsxs)("div",{className:"regulatory-octopus",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("h3",{className:"mb-3",children:[s.jsx("i",{className:"bi bi-diagram-3 me-2"}),t.mega_framework.label]}),s.jsx("p",{className:"text-muted",children:t.mega_framework.description}),(0,s.jsxs)("div",{className:"d-flex mb-3",children:[t.mega_framework.framework_type&&(0,s.jsxs)("span",{className:"badge bg-dark me-2",children:["Type: ",t.mega_framework.framework_type]}),t.mega_framework.issuing_authority&&(0,s.jsxs)("span",{className:"badge bg-dark me-2",children:["Authority: ",t.mega_framework.issuing_authority]}),t.mega_framework.effective_date&&(0,s.jsxs)("span",{className:"badge bg-dark",children:["Effective: ",new Date(t.mega_framework.effective_date).toLocaleDateString()]})]})]}),(0,s.jsxs)("h5",{className:"mb-3",children:[s.jsx("i",{className:"bi bi-diagram-2 me-2"}),"Large Frameworks"]}),(r=t.large_frameworks)&&0!==Object.keys(r).length?s.jsx("div",{className:"mt-3",children:Object.entries(r).map(([e,a])=>{let r=!0===h[e];return(0,s.jsxs)(i.Zb,{className:"mb-4 border-secondary",children:[s.jsx(i.Zb.Header,{className:"bg-light",children:(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center",onClick:()=>u(e,"large"),style:{cursor:"pointer"},children:[s.jsx("div",{children:(0,s.jsxs)("span",{className:"text-secondary",children:[s.jsx("i",{className:"bi bi-journal-album me-2"}),a.framework.label]})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"badge bg-secondary me-1",children:[Object.keys(a.medium_frameworks||{}).length," Medium"]}),s.jsx("button",{className:"btn btn-sm btn-outline-secondary",children:s.jsx("i",{className:`bi bi-chevron-${r?"up":"down"}`})})]})]})}),r&&(0,s.jsxs)(i.Zb.Body,{children:[(0,s.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,s.jsxs)("div",{children:[s.jsx("small",{className:"text-muted d-block",children:a.framework.description}),a.framework.issuing_authority&&s.jsx("span",{className:"badge bg-light text-dark me-1",children:a.framework.issuing_authority}),a.framework.effective_date&&(0,s.jsxs)("span",{className:"badge bg-light text-dark",children:["Effective: ",new Date(a.framework.effective_date).toLocaleDateString()]})]}),s.jsx("div",{children:s.jsx(i.zx,{size:"sm",variant:"outline-primary",onClick:()=>g(a.framework),children:"View Details"})})]}),s.jsx("h6",{className:"mt-3",children:"Medium Frameworks"}),f(a.medium_frameworks,e)]})]},e)})}):s.jsx("div",{className:"text-muted",children:"No large frameworks defined"})]})};t()}catch(e){t(e)}})},7933:(e,a,r)=>{r(997),r(6689);var t=r(7143);(0,t.makeStyles)({sidebar:{display:"flex",flexDirection:"column",width:"280px",height:"100%",backgroundColor:"var(--colorNeutralBackground2)",...t.shorthands.borderRight("1px","solid","var(--colorNeutralStroke2)"),transition:"transform 0.3s ease","@media(max-width: 767px)":{position:"fixed",bottom:0,left:0,right:0,zIndex:1e3,height:"60%",width:"100%",transform:"translateY(100%)",boxShadow:"0 -2px 10px rgba(0, 0, 0, 0.2)",...t.shorthands.borderRight("0"),...t.shorthands.borderTop("1px","solid","var(--colorNeutralStroke2)")}},sidebarShow:{transform:"translateY(0)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",...t.shorthands.padding("16px"),...t.shorthands.borderBottom("1px","solid","var(--colorNeutralStroke2)")},content:{flex:1,overflowY:"auto",...t.shorthands.padding("8px")},footer:{...t.shorthands.padding("16px"),...t.shorthands.borderTop("1px","solid","var(--colorNeutralStroke2)")},listItem:{display:"flex",alignItems:"center",gap:"12px",...t.shorthands.padding("12px"),...t.shorthands.borderRadius("4px"),marginBottom:"4px",cursor:"pointer",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--colorNeutralBackground3)"},color:"var(--colorNeutralForeground1)",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},activeItem:{backgroundColor:"var(--colorBrandBackground2)",fontWeight:600,":hover":{backgroundColor:"var(--colorBrandBackground2Hover)"}},icon:{fontSize:"16px",color:"var(--colorNeutralForeground3)"},activeIcon:{color:"var(--colorBrandForeground1)"}})},1561:(e,a,r)=>{r.d(a,{Z:()=>s});var t=r(997);r(6689);let s=({children:e,fontSize:a="md",fontWeight:r="normal",color:s="default",className:l="",as:i="p",...n})=>{let d={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl"},c={light:"font-light",normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold"},o={default:"text-gray-800",muted:"text-gray-600",light:"text-gray-400",primary:"text-blue-600",success:"text-green-600",warning:"text-yellow-600",danger:"text-red-600"},m=d[a]||d.md,h=c[r]||c.normal,x=o[s]||o.default;return t.jsx(i,{className:`${m} ${h} ${x} ${l}`,...n,children:e})}},550:(e,a,r)=>{r.d(a,{Z:()=>s});var t=r(997);r(6689);let s=({id:e,name:a,value:r,onChange:s,placeholder:l="",rows:i=4,className:n="",...d})=>t.jsx("textarea",{id:e,name:a,value:r,onChange:s,rows:i,placeholder:l,className:`w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${n}`,...d})},8201:(e,a,r)=>{r.a(e,async(e,t)=>{try{r.d(a,{Ct:()=>s.Z,II:()=>o.Z,Lt:()=>d.Z,Zb:()=>i.Z,__:()=>m.Z,gx:()=>u.Z,xv:()=>p.Z,zx:()=>l.Z}),r(7114);var s=r(3467),l=r(8288),i=r(781);r(4411);var n=r(2954);r(1331);var d=r(7807),c=r(563),o=r(665),m=r(4008);r(7769),r(8954);var h=r(5605),x=r(6690);r(7933);var p=r(1561),u=r(550);r(9718),r(9068);var g=e([n,c,h,x]);[n,c,h,x]=g.then?(await g)():g,t()}catch(e){t(e)}})}};