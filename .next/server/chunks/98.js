"use strict";exports.id=98,exports.ids=[98],exports.modules={98:(e,i,s)=>{s.d(i,{Z:()=>h});var a=s(997),t=s(9816),r=s.n(t),l=s(6689),n=s(157),c=s(5401),d=s(9003),m=s.n(d),o=s(4728),x=s(9145);function j({min:e,now:i,max:s,label:t,visuallyHidden:r,striped:l,animated:n,className:c,style:d,variant:o,bsPrefix:x,...j},b){return(0,a.jsx)("div",{ref:b,...j,role:"progressbar",className:m()(c,`${x}-bar`,{[`bg-${o}`]:o,[`${x}-bar-animated`]:n,[`${x}-bar-striped`]:n||l}),style:{width:`${Math.round((i-e)/(s-e)*1e5)/1e3}%`,...d},"aria-valuenow":i,"aria-valuemin":e,"aria-valuemax":s,children:r?(0,a.jsx)("span",{className:"visually-hidden",children:t}):t})}let b=l.forwardRef(({isChild:e=!1,...i},s)=>{let t={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...i};if(t.bsPrefix=(0,o.vE)(t.bsPrefix,"progress"),e)return j(t,s);let{min:r,now:n,max:c,label:d,visuallyHidden:b,striped:p,animated:h,bsPrefix:u,variant:N,className:v,children:g,...y}=t;return(0,a.jsx)("div",{ref:s,...y,className:m()(v,u),children:g?(0,x.UI)(g,e=>(0,l.cloneElement)(e,{isChild:!0})):j({min:r,now:n,max:c,label:d,visuallyHidden:b,striped:p,animated:h,bsPrefix:u,variant:N},s)})});b.displayName="ProgressBar";var p=s(6529);let h=({initialData:e,timelineType:i})=>{let[s,t]=(0,l.useState)(e||[]),[d,m]=(0,l.useState)(!e),[o,x]=(0,l.useState)(null),[j,h]=(0,l.useState)("timeline"),[u,N]=(0,l.useState)("all");(0,l.useEffect)(()=>{e||v()},[e,i]);let v=async()=>{m(!0),x(null);try{let e="/api/time";"historical"===i?e="/api/time/historical":"career"===i?e=`/api/time/career/${i.split("_")[1]}`:"project"===i&&(e=`/api/time/project/${i.split("_")[1]}`);let s=await fetch(e),a=await s.json();a.success?"historical"===i?t(a.periods||[]):"career"===i?t(a.career_stages||[]):"project"===i?t({project:a.project,tasks:a.tasks||[],milestones:a.milestones||[],completionPercentage:a.completion_percentage||0}):t(a.time_contexts||[]):x(a.error||"Error fetching timeline data")}catch(e){x(`Error: ${e.message}`)}finally{m(!1)}},g=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Present",y=e=>{if(!e)return null;let i="secondary";switch(e.toLowerCase()){case"completed":i="success";break;case"in_progress":i="primary";break;case"not_started":i="light";break;case"delayed":i="warning";break;case"blocked":i="danger"}return a.jsx(n.Z,{bg:i,children:e.replace("_"," ")})},f=(e,i)=>(0,a.jsxs)("div",{className:"timeline-item",children:[a.jsx("div",{className:"timeline-icon",children:"milestone"===e.time_type?a.jsx("i",{className:"bi bi-flag-fill text-warning"}):"career_stage"===e.time_type?a.jsx("i",{className:"bi bi-briefcase-fill text-primary"}):"historical"===e.time_type?a.jsx("i",{className:"bi bi-clock-history text-info"}):"project"===e.time_type?a.jsx("i",{className:"bi bi-kanban text-success"}):a.jsx("i",{className:"bi bi-calendar-event text-secondary"})}),a.jsx("div",{className:"timeline-content",children:(0,a.jsxs)(c.Z,{children:[(0,a.jsxs)(c.Z.Header,{className:"d-flex justify-content-between align-items-center",children:[a.jsx("span",{children:e.name}),e.attributes&&e.attributes.status&&y(e.attributes.status)]}),(0,a.jsxs)(c.Z.Body,{children:[(0,a.jsxs)("div",{className:"small mb-2",children:[a.jsx("i",{className:"bi bi-calendar me-1"}),g(e.start_date)," - ",g(e.end_date)]}),e.attributes&&e.attributes.description&&a.jsx("p",{className:"mb-2",children:e.attributes.description}),e.attributes&&e.attributes.assignee&&(0,a.jsxs)("div",{className:"small mb-2",children:[a.jsx("i",{className:"bi bi-person me-1"}),"Assignee: ",e.attributes.assignee]}),e.attributes&&e.attributes.skills_gained&&(0,a.jsxs)("div",{className:"mt-2",children:[a.jsx("small",{className:"text-muted",children:"Skills:"}),a.jsx("div",{children:e.attributes.skills_gained.map((e,i)=>a.jsx(n.Z,{bg:"info",className:"me-1 mb-1",children:e},i))})]}),e.attributes&&e.attributes.roles&&(0,a.jsxs)("div",{className:"mt-2",children:[a.jsx("small",{className:"text-muted",children:"Roles:"}),a.jsx("div",{children:e.attributes.roles.map((e,i)=>a.jsx(n.Z,{bg:"secondary",className:"me-1 mb-1",children:e},i))})]})]})]})})]},e.uid||i);return d?(0,a.jsxs)("div",{className:"text-center my-5",children:[a.jsx("div",{className:"spinner-border",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading timeline..."})}),a.jsx("p",{className:"mt-2",children:"Loading timeline data..."})]}):o?(0,a.jsxs)("div",{className:"alert alert-danger",children:[a.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),o]}):(0,a.jsxs)("div",{className:"jsx-326870c1362620a6 timeline-component",children:[(0,a.jsxs)("div",{className:"jsx-326870c1362620a6 d-flex justify-content-between mb-4",children:[(0,a.jsxs)("h3",{className:"jsx-326870c1362620a6",children:["historical"===i&&"Historical Timeline","career"===i&&"Career Timeline","project"===i&&"Project Timeline",!i&&"Timeline"]}),(0,a.jsxs)("div",{className:"jsx-326870c1362620a6 btn-group",children:[(0,a.jsxs)(p.Z,{variant:"timeline"===j?"primary":"outline-primary",onClick:()=>h("timeline"),children:[a.jsx("i",{className:"jsx-326870c1362620a6 bi bi-list me-1"})," Timeline"]}),(0,a.jsxs)(p.Z,{variant:"calendar"===j?"primary":"outline-primary",onClick:()=>h("calendar"),children:[a.jsx("i",{className:"jsx-326870c1362620a6 bi bi-calendar3 me-1"})," Calendar"]}),(0,a.jsxs)(p.Z,{variant:"gantt"===j?"primary":"outline-primary",onClick:()=>h("gantt"),children:[a.jsx("i",{className:"jsx-326870c1362620a6 bi bi-bar-chart me-1"})," Gantt"]})]})]}),"timeline"===j&&(0,a.jsxs)("div",{className:"jsx-326870c1362620a6 timeline-container",children:["historical"===i&&a.jsx("div",{className:"historical-timeline",children:s.map((e,i)=>f(e,i))}),"career"===i&&a.jsx("div",{className:"career-timeline",children:s.map((e,i)=>f(e,i))}),"project"===i&&(()=>{if(!s.project)return a.jsx("div",{children:"No project data available"});let{project:e,tasks:i,milestones:t,completionPercentage:r}=s;return(0,a.jsxs)("div",{className:"project-timeline",children:[(0,a.jsxs)(c.Z,{className:"mb-4",children:[a.jsx(c.Z.Header,{children:a.jsx("h5",{children:e.name})}),(0,a.jsxs)(c.Z.Body,{children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,a.jsxs)("div",{children:[a.jsx("i",{className:"bi bi-calendar me-1"}),g(e.start_date)," - ",g(e.end_date)]}),e.attributes&&e.attributes.status&&y(e.attributes.status)]}),e.attributes&&e.attributes.description&&a.jsx("p",{children:e.attributes.description}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[a.jsx("span",{children:"Progress:"}),(0,a.jsxs)("span",{children:[r,"%"]})]}),a.jsx(b,{now:r})]})]})]}),a.jsx("div",{className:"d-flex justify-content-center mb-4",children:(0,a.jsxs)("div",{className:"btn-group",children:[a.jsx(p.Z,{variant:"all"===u?"primary":"outline-primary",onClick:()=>N("all"),children:"All"}),a.jsx(p.Z,{variant:"task"===u?"primary":"outline-primary",onClick:()=>N("task"),children:"Tasks"}),a.jsx(p.Z,{variant:"milestone"===u?"primary":"outline-primary",onClick:()=>N("milestone"),children:"Milestones"})]})}),(0,a.jsxs)("div",{className:"timeline-container",children:["all"===u&&a.jsx(a.Fragment,{children:[...i,...t].sort((e,i)=>new Date(e.start_date)-new Date(i.start_date)).map((e,i)=>f(e,i))}),"task"===u&&a.jsx(a.Fragment,{children:i.map((e,i)=>f(e,i))}),"milestone"===u&&a.jsx(a.Fragment,{children:t.map((e,i)=>f(e,i))})]})]})})(),!i&&s.map((e,i)=>f(e,i)),Array.isArray(s)&&0===s.length&&(0,a.jsxs)("div",{className:"jsx-326870c1362620a6 text-center my-5",children:[a.jsx("i",{className:"jsx-326870c1362620a6 bi bi-calendar-x display-4 text-muted"}),a.jsx("p",{className:"jsx-326870c1362620a6 mt-3",children:"No timeline data available"})]})]}),"calendar"===j&&a.jsx("div",{className:"jsx-326870c1362620a6 calendar-view",children:(0,a.jsxs)("div",{className:"jsx-326870c1362620a6 alert alert-info",children:[a.jsx("i",{className:"jsx-326870c1362620a6 bi bi-info-circle me-2"}),"Calendar view implementation will be added in the next iteration."]})}),"gantt"===j&&a.jsx("div",{className:"jsx-326870c1362620a6 gantt-view",children:(0,a.jsxs)("div",{className:"jsx-326870c1362620a6 alert alert-info",children:[a.jsx("i",{className:"jsx-326870c1362620a6 bi bi-info-circle me-2"}),"Gantt chart view implementation will be added in the next iteration."]})}),a.jsx(r(),{id:"326870c1362620a6",children:'.timeline-container.jsx-326870c1362620a6{position:relative;padding:20px 0}.timeline-container.jsx-326870c1362620a6::before{content:"";position:absolute;top:0;bottom:0;left:20px;width:4px;background:#e5e5e5}.timeline-item.jsx-326870c1362620a6{position:relative;margin-bottom:30px;padding-left:45px}.timeline-icon.jsx-326870c1362620a6{position:absolute;left:0;top:5px;width:40px;height:40px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background:#fff;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;border:3px solid#e5e5e5;z-index:1}.timeline-content.jsx-326870c1362620a6{padding-bottom:10px}'})]})}},157:(e,i,s)=>{s.d(i,{Z:()=>d});var a=s(9003),t=s.n(a),r=s(6689),l=s(4728),n=s(997);let c=r.forwardRef(({bsPrefix:e,bg:i="primary",pill:s=!1,text:a,className:r,as:c="span",...d},m)=>{let o=(0,l.vE)(e,"badge");return(0,n.jsx)(c,{ref:m,...d,className:t()(r,o,s&&"rounded-pill",a&&`text-${a}`,i&&`bg-${i}`)})});c.displayName="Badge";let d=c}};